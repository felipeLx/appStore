{"version":3,"sources":["hoc/Aux/Aux.js","store/actions/actionTypes.js","components/Navigation/SideDrawer/SideDrawer.module.css","components/UI/Backdrop/Backdrop.js","components/Navigation/Toolbar/Toolbar.module.css","components/Product/BuildControls/BuildControl/BuildControl.module.css","components/UI/Button/Button.js","components/Navigation/NavigationItems/NavigationItem/NavigationItem.module.css","components/UI/Button/Button.module.css","api/index.js","components/UI/Modal/Modal.js","hoc/Layout/Layout.module.css","assets/images/logo.png","components/Logo/Logo.module.css","components/Navigation/NavigationItems/NavigationItems.module.css","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.module.css","components/UI/Backdrop/Backdrop.module.css","components/Product/BuildControls/BuildControls.module.css","components/UI/Modal/Modal.module.css","store/actions/product.js","store/actions/order.js","store/actions/auth.js","shared/utility.js","registerServiceWorker.js","components/Logo/Logo.js","components/Navigation/NavigationItems/NavigationItem/NavigationItem.js","components/Navigation/NavigationItems/NavigationItems.js","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.js","components/Navigation/Toolbar/Toolbar.js","components/Navigation/SideDrawer/SideDrawer.js","hoc/Layout/Layout.js","components/Product/Product.js","components/Product/BuildControls/BuildControl/BuildControl.js","components/Product/BuildControls/BuildControls.js","components/Product/OrderSummary/OrderSummary.js","containers/Products/ProductsBuilder.js","containers/Auth/Logout/Logout.js","App.js","store/reducers/product.js","store/reducers/order.js","store/reducers/auth.js","store/reducers/signup.js","store/sagas/auth.js","store/sagas/product.js","store/sagas/order.js","store/sagas/index.js","index.js"],"names":["Aux","props","children","ADD_PRODUCT","REMOVE_PRODUCT","SET_PRODUCTS","OPEN_DETAIL","FETCH_PRODUCTS_FAILED","INIT_PRODUCTS","PURCHASE_PRODUCT","PURCHASE_PRODUCT_START","PURCHASE_PRODUCT_SUCCESS","PURCHASE_PRODUCT_FAIL","PURCHASE_INIT","FETCH_ORDERS_START","FETCH_ORDERS_SUCCESS","FETCH_ORDERS_FAIL","FETCH_ORDERS","AUTH_USER","AUTH_CHECK_STATE","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_CHECK_TIMEOUT","AUTH_INITIATE_LOGOUT","AUTH_LOGOUT","SIGNUP_USER","SIGNUP_START","SIGNUP_SUCCESS","SIGNUP_FAIL","ADMIN_SUCCESS","SET_SIGNUP_REDIRECT_PATH","module","exports","backdrop","show","className","classes","Backdrop","onClick","clicked","button","disabled","Button","btnType","join","api","axios","create","baseURL","apis","insertProduct","payload","post","getAllProducts","get","getOneProduct","id","updateProductById","put","deleteProductById","delete","insertOrder","getAllOrders","getOrderById","updateOrderById","deleteOrderById","registerUser","loginUser","logoutUser","getAllUsers","getUserById","updateUserById","deleteUserById","React","memo","modalClosed","Modal","style","transform","opacity","prevProps","nextProps","setProducts","products","type","actionTypes","openDetail","product","fetchProductsFailed","initProducts","purchaseProductSuccess","orderData","orderId","purchaseProductFail","error","purchaseProductStart","purchaseInit","fetchOrdersSuccess","orders","fetchOrdersFail","fetchOrdersStart","fetchOrders","token","userId","authStart","adminSuccess","authSuccess","authFail","logout","logoutSucceed","login","email","password","authCheckState","signup","username","setSignupRedirectPath","path","signupStart","signupSuccess","signupFail","updateObject","oldObject","updatedProperties","checkValidity","value","rules","isValid","required","trim","minLength","length","maxLength","isEmail","test","isNumeric","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","logo","Logo","height","src","brandLogo","alt","navigationItem","NavigationItem","to","link","exact","activeClassName","active","navigationItems","isAuthenticated","isAdmin","drawerToggle","DrawerToggle","toolbar","Toolbar","drawerToggleClicked","DesktopOnly","NavigationItems","isAuth","sideDrawer","attachedClasses","SideDrawer","Close","open","Open","closed","layout","useState","showSideDrawer","setShowSideDrawer","Content","connect","auth","name","category","brand","price","description","picture","width","display","Card","Title","Text","toFixed","Subtitle","variant","event","preventDefault","href","params","openProductHandler","buildControl","textAlign","Less","removed","More","added","DinamicFields","quantity","total","controls","label","buildControls","map","ctrl","BuildControl","key","productAdded","productRemoved","purchasable","OrderButton","ordered","orderSummary","textTransform","purchaseCancelled","purchaseContinued","dispatch","onInitProducts","actions","onInitPurchase","onSetSignupRedirectPath","purchasing","setPutchasing","setQuantity","useEffect","a","prds","data","purchaseHandler","history","push","purchaseCancelHandler","purchaseContinueHandler","productArray","productAdd","productRemove","prd","Body","_id","Product","BuildControls","OrderSummary","onLogout","AdminDashboard","lazy","UserDashboard","ProductsController","OrdersController","UsersController","OrderController","UserController","Signup","Login","app","onTryAutoSignup","routes","render","component","Logout","Layout","fallback","withRouter","initialState","totalPrice","building","addProduct","action","updatedProduct","productName","updatedState","removeProduct","updatedProd","reducer","loading","purchased","newOrder","concat","authRedirectPath","authLogout","setAuthRedirectPath","logoutSaga","checkAuthTimeoutSaga","registerUserSaga","loginUserSaga","authCheckStateSaga","delayAsync","ms","Promise","res","setTimeout","call","localStorage","delay","Date","getTime","authData","response","loginData","getItem","initProductsSaga","productDetailSaga","productId","purchaseProductSaga","fetchOrdersSaga","queryParams","fetchedOrders","watchAuth","watchProduct","watchOrder","all","takeEvery","actionType","takeLatest","composeEnhancers","compose","rootReducer","combineReducers","productReducer","order","orderReducer","authReducer","signupReducer","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","thunk","run","App","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"iGAEeA,IAFH,SAAAC,GAAK,OAAIA,EAAMC,W,+BCA3B,09BAAO,IAAMC,EAAc,cACdC,EAAiB,iBACjBC,EAAe,eACfC,EAAc,cACdC,EAAwB,wBACxBC,EAAgB,gBAEhBC,EAAmB,mBACnBC,EAAyB,yBACzBC,EAA2B,2BAC3BC,EAAwB,wBACxBC,EAAgB,gBAEhBC,EAAqB,qBACrBC,EAAuB,uBACvBC,EAAoB,oBACpBC,EAAe,eAEfC,EAAY,YACZC,EAAmB,mBACnBC,EAAa,aACbC,EAAe,eACfC,EAAY,YACZC,EAAqB,qBACrBC,EAAuB,uBACvBC,EAAc,cAEdC,EAAc,cACdC,EAAe,eACfC,EAAiB,iBACjBC,EAAc,cAEdC,EAAgB,gBAEhBC,EAA2B,4B,mBCjCxCC,EAAOC,QAAU,CAAC,WAAa,+BAA+B,KAAO,yBAAyB,MAAQ,0BAA0B,KAAO,2B,gCCDvI,qCAQeC,IAJE,SAACjC,GAAD,OACbA,EAAMkC,KAAO,yBAAKC,UAAWC,IAAQC,SAAUC,QAAStC,EAAMuC,UAAkB,O,mBCJpFR,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,YAAc,+B,mBCAhGD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,QAAU,8BAA8B,cAAgB,oCAAoC,KAAO,2BAA2B,KAAO,6B,gCCDzM,qCAWeQ,IAPA,SAACxC,GAAD,OACX,4BACIyC,SAAUzC,EAAMyC,SAChBN,UAAW,CAACC,IAAQM,OAAQN,IAAQpC,EAAM2C,UAAUC,KAAK,KACzDN,QAAStC,EAAMuC,SAAUvC,EAAMC,Y,mBCPvC8B,EAAOC,QAAU,CAAC,eAAiB,uCAAuC,OAAS,iC,mBCAnFD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,OAAS,yB,gCCD7F,YAEMa,EAFN,OAEYC,EAAMC,OAAO,CACrBC,QAAS,MA0BPC,EAAO,CACTC,cAvByB,SAAAC,GAAO,OAAIN,EAAIO,KAAK,OAAQD,IAwBrDE,eAvB0B,kBAAMR,EAAIS,IAAI,SAwBxCC,cAvByB,SAAAC,GAAE,OAAIX,EAAIS,IAAJ,eAAgBE,KAwB/CC,kBAvB6B,SAACD,EAAIL,GAAL,OAAiBN,EAAIa,IAAJ,eAAgBF,GAAML,IAwBpEQ,kBAvB6B,SAAAH,GAAE,OAAIX,EAAIe,OAAJ,eAAmBJ,KAwBtDK,YArBuB,SAAAV,GAAO,OAAIN,EAAIO,KAAK,UAAWD,IAsBtDW,aArBwB,kBAAMjB,EAAIS,IAAI,YAsBtCS,aArBwB,SAAAP,GAAE,OAAIX,EAAIS,IAAJ,kBAAmBE,KAsBjDQ,gBArB2B,SAACR,EAAIL,GAAL,OAAiBN,EAAIa,IAAJ,kBAAmBF,GAAML,IAsBrEc,gBArB2B,SAAAT,GAAE,OAAIX,EAAIe,OAAJ,kBAAsBJ,KAsBvDU,aAnBwB,SAAAf,GAAO,OAAIN,EAAIO,KAAK,gBAAiBD,IAoB7DgB,UAnBqB,SAAAhB,GAAO,OAAIN,EAAIO,KAAK,eAAgBD,IAoBzDiB,WAnBsB,kBAAMvB,EAAIO,KAAK,kBAoBrCiB,YAnBuB,kBAAMxB,EAAIS,IAAI,WAoBrCgB,YAnBuB,SAAAd,GAAE,OAAIX,EAAIS,IAAJ,iBAAkBE,KAoB/Ce,eAnB0B,SAACf,EAAIL,GAAL,OAAiBN,EAAIa,IAAJ,iBAAkBF,GAAML,IAoBnEqB,eAnB0B,SAAAhB,GAAE,OAAIX,EAAIe,OAAJ,iBAAqBJ,MAsB1CP,O,gCCjDf,qDA2BewB,QAAMC,MArBP,SAAA1E,GAMN,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUkC,KAAMlC,EAAMkC,KAAMK,QAASvC,EAAM2E,cAC3C,yBACIxC,UAAWC,IAAQwC,MACnBC,MAAO,CACHC,UAAW9E,EAAMkC,KAAO,gBAAkB,qBAC1C6C,QAAS/E,EAAMkC,KAAO,IAAM,MAE/BlC,EAAMC,cAQvB,SAAC+E,EAAWC,GAAZ,OACIA,EAAU/C,OAAS8C,EAAU9C,MAC7B+C,EAAUhF,WAAa+E,EAAU/E,a,mBC9BzC8B,EAAOC,QAAU,CAAC,QAAU,0B,mBCD5BD,EAAOC,QAAU,IAA0B,kC,mBCC3CD,EAAOC,QAAU,CAAC,KAAO,qB,mBCAzBD,EAAOC,QAAU,CAAC,gBAAkB,2C,mBCApCD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,SAAW,6B,mBCA7BD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,YAAc,mCAAmC,OAAS,gC,mBCAjID,EAAOC,QAAU,CAAC,MAAQ,uB,g6BCgBbkD,EAAc,SAAEC,GACzB,MAAO,CACHC,KAAMC,IACNF,SAAUA,IAILG,EAAa,SAAEC,GACxB,MAAO,CACHH,KAAMC,IACNE,QAASA,IAIJC,EAAsB,WAC/B,MAAO,CACHJ,KAAMC,MAIDI,EAAe,WACxB,MAAO,CACHL,KAAMC,MCrCDK,EAAyB,SAAElC,EAAImC,GACxC,MAAO,CACHP,KAAMC,IACNO,QAASpC,EACTmC,UAAWA,IAINE,EAAsB,SAAEC,GACjC,MAAO,CACHV,KAAMC,IACNS,MAAOA,IAIFC,EAAuB,WAChC,MAAO,CACHX,KAAMC,MAYDW,EAAe,WACxB,MAAO,CACHZ,KAAMC,MAIDY,EAAqB,SAAEC,GAChC,MAAO,CACHd,KAAMC,IACNa,OAAQA,IAIHC,EAAkB,SAAEL,GAC7B,MAAO,CACHV,KAAMC,IACNS,MAAOA,IAIFM,EAAmB,WAC5B,MAAO,CACHhB,KAAMC,MAIDgB,EAAc,SAACC,EAAOC,GAC/B,MAAO,CACHnB,KAAMC,IACNiB,MAAOA,EACPC,OAAQA,IC3DHC,EAAY,WACrB,MAAO,CACHpB,KAAMC,MAIDoB,EAAe,SAACH,EAAM9C,GAC/B,MAAO,CACH4B,KAAMC,IACNiB,MAAOA,EACPC,OAAQ/C,IAIHkD,EAAe,SAACJ,EAAO9C,GAChC,MAAO,CACH4B,KAAMC,IACNiB,MAAOA,EACPC,OAAQ/C,IAIHmD,EAAW,SAACb,GACrB,MAAO,CACHV,KAAMC,IACNS,MAAOA,IAIFc,EAAS,WAClB,MAAO,CACHxB,KAAMC,MAIDwB,EAAgB,WACzB,MAAO,CAACzB,KAAMC,MAULyB,EAAQ,SAACC,EAAOC,GACzB,MAAO,CACH5B,KAAMC,IACN0B,MAAOA,EACPC,SAAUA,IAILC,EAAiB,WAC1B,MAAO,CACH7B,KAAMC,MAID6B,EAAS,SAACC,EAAUJ,EAAOC,GACpC,MAAO,CACH5B,KAAMC,IACN8B,SAAUA,EACVJ,MAAOA,EACPC,SAAUA,IAILI,EAAwB,SAACC,GAClC,MAAO,CACHjC,KAAMC,IACNgC,KAAMA,IAIDC,EAAc,WACvB,MAAO,CACHlC,KAAMC,MAIDkC,EAAgB,SAACjB,EAAO9C,GACjC,MAAO,CACH4B,KAAMC,IACNiB,MAAOA,EACPC,OAAQ/C,IAIHgE,EAAa,SAAC1B,GACvB,MAAO,CACHV,KAAMC,IACNS,MAAOA,K,oIC/FF2B,EAAe,SAACC,EAAWC,GACpC,OAAO,2BACAD,GACAC,IAIEC,EAAgB,SAACC,EAAOC,GACjC,IAAIC,GAAU,EACd,IAAKD,EACD,OAAO,EAeX,GAZIA,EAAME,WACND,EAA2B,KAAjBF,EAAMI,QAAiBF,GAGjCD,EAAMI,YACNH,EAAUF,EAAMM,QAAUL,EAAMI,WAAaH,GAG7CD,EAAMM,YACNL,EAAUF,EAAMM,QAAUL,EAAMM,WAAaL,GAG7CD,EAAMO,QAAS,CAEfN,EADgB,wIACEO,KAAKT,IAAUE,EAGrC,GAAID,EAAMS,UAAW,CAEjBR,EADgB,QACEO,KAAKT,IAAUE,EAGrC,OAAOA,I,4ECzBLS,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DA6BN,SAASC,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTI,MAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,WAK1BC,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,4CAMrBC,OAAM,SAAA/D,GACL6D,QAAQ7D,MAAM,4CAA6CA,M,gJC3DlDgE,EANF,SAAC9J,GAAD,OACT,yBAAKmC,UAAWC,IAAQ2H,KAAMlF,MAAO,CAACmF,OAAQhK,EAAMgK,SAChD,yBAAKC,IAAKC,IAAWC,IAAI,a,kCCOlBC,EATQ,SAAEpK,GAAF,OACnB,wBAAImC,UAAWC,IAAQiI,gBACnB,kBAAC,IAAD,CACIC,GAAItK,EAAMuK,KACVC,MAAOxK,EAAMwK,MACbC,gBAAiBrI,IAAQsI,QAAS1K,EAAMC,YCerC0K,EAnBS,SAAC3K,GAErB,OACI,wBAAImC,UAAWC,IAAQuI,iBACnB,kBAACN,EAAD,CAAgBE,KAAK,IAAIC,OAAK,GAA9B,YACCxK,EAAM4K,kBAAoB5K,EAAM6K,QAC3B,kBAACR,EAAD,CAAgBE,KAAK,cAArB,aACA,KACLvK,EAAM6K,SAAW7K,EAAM4K,gBAClB,kBAACP,EAAD,CAAgBE,KAAK,cAArB,aACA,KACJvK,EAAM4K,gBAEF,kBAACP,EAAD,CAAgBE,KAAK,iBAArB,UADA,kBAACF,EAAD,CAAgBE,KAAK,gBAArB,W,iBCNHO,EARM,SAAC9K,GAAD,OACjB,yBAAKmC,UAAWC,IAAQ2I,aAAczI,QAAStC,EAAMuC,SACjD,8BACA,8BACA,gCCYOyI,EAbC,SAAEhL,GAAF,OACZ,4BAAQmC,UAAWC,IAAQ6I,SAEvB,kBAACF,EAAD,CAAcxI,QAASvC,EAAMkL,sBAC7B,yBAAK/I,UAAWC,IAAQ2H,MACpB,kBAACA,EAAD,OAEJ,yBAAK5H,UAAWC,IAAQ+I,aACpB,kBAACC,EAAD,CAAiBR,gBAAiB5K,EAAMqL,OAAQR,QAAS7K,EAAM6K,a,yBCa5DS,EApBI,SAAEtL,GACjB,IAAIuL,EAAkB,CAACnJ,IAAQoJ,WAAYpJ,IAAQqJ,OAInD,OAHIzL,EAAM0L,OACNH,EAAkB,CAACnJ,IAAQoJ,WAAYpJ,IAAQuJ,OAG/C,kBAAC5L,EAAA,EAAD,KACI,kBAACsC,EAAA,EAAD,CAAUH,KAAMlC,EAAM0L,KAAMnJ,QAASvC,EAAM4L,SAC3C,yBAAKzJ,UAAWoJ,EAAgB3I,KAAK,KAAMN,QAAStC,EAAM4L,QACtD,yBAAKzJ,UAAWC,IAAQ2H,MACpB,kBAACA,EAAD,OAEJ,6BACI,kBAACqB,EAAD,CAAiBR,gBAAiB5K,EAAMqL,aCXtDQ,EAASpH,IAAMC,MAAK,SAAA1E,GAAU,IAAD,EACa8L,oBAAS,GADtB,mBACxBC,EADwB,KACRC,EADQ,KAW3B,OACI,kBAACjM,EAAA,EAAD,KAEI,kBAACkL,EAAD,CACII,OAAQrL,EAAM4K,gBACdC,QAAS7K,EAAM6K,QACfK,oBAVgB,WAC5Bc,GAAmBD,MAWX,kBAACP,EAAD,CACIH,OAAQrL,EAAM4K,gBACdC,QAAS7K,EAAM6K,QACfa,KAAMK,EACNH,OApBgB,WAC5BI,GAAkB,MAqBV,0BAAM7J,UAAWC,IAAQ6J,SACpBjM,EAAMC,cAaZiM,eAPS,SAAAzC,GACpB,MAAO,CACHmB,gBAAwC,OAAvBnB,EAAMvC,OAAOZ,OAAuC,OAArBmD,EAAM0C,KAAK7F,MAC3DuE,QAASpB,EAAM0C,KAAKtB,WAIbqB,CAA2BL,G,wCCT3BtG,EAlCCd,IAAMC,MAAK,SAAA1E,GAAU,IAC1BwD,EAA0DxD,EAA1DwD,GAAI4I,EAAsDpM,EAAtDoM,KAAMC,EAAgDrM,EAAhDqM,SAAUC,EAAsCtM,EAAtCsM,MAAOC,EAA+BvM,EAA/BuM,MAAOC,EAAwBxM,EAAxBwM,YAAaC,EAAWzM,EAAXyM,QAatD,OACI,oCACA,kBAAC1M,EAAA,EAAD,KACI,yBAAKoC,UAAU,OAAO0C,MAAO,CAAC6H,MAAO,UAC7B,yBAAKvK,UAAU,eAAe0C,MAAO,CAAC8H,QAAS,QAAS1C,IAAKwC,IAEzD,kBAACG,EAAA,EAAKC,MAAN,KAAaT,GACb,kBAACQ,EAAA,EAAKE,KAAN,KAAW,gDAAmBP,EAAMQ,QAAQ,KAC5C,kBAACH,EAAA,EAAKI,SAAN,CAAe7K,UAAU,mBAAzB,cAAuDkK,GACvD,kBAACO,EAAA,EAAKE,KAAN,yBAAuBN,GAEvB,kBAACI,EAAA,EAAKE,KAAN,eAAmBR,GACnB,kBAAC5J,EAAA,EAAD,CAAQc,GAAIA,EAAIlB,QAAS,WAfzCqH,QAAQC,IAAI,oBAe6DqD,QAAQ,WAAjE,WACA,kBAACvK,EAAA,EAAD,CAAQc,GAAIA,EAAIlB,QAAS,SAAC4K,GAAD,OAxBlB,SAACA,GAExB,OADAA,EAAMC,iBAEFzE,OAAOC,SAASyE,KAAhB,eAA+BF,EAAMrE,MAAMwE,OAAO7J,IAqBF8J,CAAmBJ,IAAQD,QAAQ,WAAvE,iB,kCCbTM,EAhBM,SAACvN,GAAD,OACjB,yBAAKmC,UAAU,YAAY0C,MAAO,CAAC2I,UAAW,SAAUb,QAAS,SAC7D,4BACIxK,UAAWC,IAAQqL,KACnBnL,QAAStC,EAAM0N,QACfjL,SAAUzC,EAAMyC,UAHpB,KAIA,4BACIN,UAAWC,IAAQuL,KACnBrL,QAAStC,EAAM4N,OAFnB,KAGA,yBAAKzL,UAAWC,IAAQyL,eACpB,2BAAG,+CAAqB7N,EAAM8N,WAC9B,2BAAG,6CAAmB9N,EAAM+N,MAAMhB,QAAQ,QCVhDiB,EAAW,CACb,CAAEC,MAAO,KAsBEC,GAnBO,SAAClO,GAAD,OAClB,6BACKgO,EAASG,KAAI,SAAAC,GAAI,OACd,kBAACC,EAAD,CACIC,IAAKF,EAAKH,MACVL,MAAO,kBAAM5N,EAAMuO,aAAaH,EAAKhJ,OACrCsI,QAAS,kBAAM1N,EAAMwO,eAAeJ,EAAKhJ,OACzC0I,SAAU9N,EAAM8N,SAChBC,MAAO/N,EAAM+N,MACbtL,SAAUzC,EAAMyO,iBAGxB,4BACItM,UAAWC,IAAQsM,YACnBjM,UAAWzC,EAAMyO,YACjBnM,QAAStC,EAAM2O,SAAU3O,EAAMqL,OAAS,YAAc,sB,kBCRnDuD,GAZM,SAAA5O,GAAK,OACd,oCACI,mDACA,oEACA,0BAAM6E,MAAO,CAAEgK,cAAe,eAAiB7O,EAAMmF,UAHzD,KAG4EnF,EAAMoM,KAC9E,oDACA,kBAAC,KAAD,CAAQzJ,QAAQ,SAASJ,QAASvC,EAAM8O,mBAAxC,UACA,kBAAC,KAAD,CAAQnM,QAAQ,UAAUJ,QAASvC,EAAM+O,mBAAzC,c,iBCqID7C,gBAfS,SAAAzC,GACpB,MAAO,CACH3D,MAAO2D,EAAMlE,QAAQO,MACrB8E,gBAAsC,OAArBnB,EAAM0C,KAAK7F,OAAyC,OAAvBmD,EAAMvC,OAAOZ,UAIxC,SAAA0I,GACvB,MAAO,CACHC,eAAgB,kBAAMD,EAASE,SAC/BC,eAAiB,kBAAMH,EAASE,SAChCE,wBAAyB,SAAC/H,GAAD,OAAU2H,EAASE,KAA8B7H,QAInE6E,EAnIS,SAAAlM,GAAU,IAAD,EAEG8L,mBAAS,IAFZ,mBAEtB3G,EAFsB,KAEZD,EAFY,OAGO4G,oBAAS,GAHhB,mBAGtBuD,EAHsB,KAGVC,EAHU,OAIGxD,mBAAS,GAJZ,mBAItBgC,EAJsB,KAIZyB,EAJY,KAM7BC,qBAAU,WACNnM,MACD,IAEH,IAAMA,EAAc,uCAAG,sBAAAoM,EAAA,+EAET5M,KAAIQ,iBACL8F,MAAK,SAAAuG,GAAI,OAAIxK,EAAYwK,EAAKC,SAHpB,sDAKfhG,QAAQC,IAAI,6DALG,wDAAH,qDAoBdgG,EAAkB,WACjB5P,EAAM4K,gBACL0E,GAAc,IAEdtP,EAAMoP,wBAAwB,aAC9BpP,EAAM6P,QAAQC,KAAK,YAIrBC,EAAwB,WAC1BT,GAAc,IAGZU,EAA0B,WAC5BhQ,EAAMmP,iBACNnP,EAAM6P,QAAQC,KAAK,cAGnBG,EAAe,GACfrB,EAAe,GAEbsB,EAAa,WACfX,EAAYzB,EAAW,IAGrBqC,EAAgB,WAClBZ,EAAYzB,EAAU,IAgDtB,OA7CC3I,EAASgD,OAAS,GACnBhD,EAASgJ,KAAI,SAAAiC,GACTH,EAAaH,KAET,kBAAClD,EAAA,EAAKyD,KAAN,CAAW/B,IAAK8B,EAAIE,IAAKzL,MAAO,CAAC2I,UAAW,WAE5C,kBAACzN,EAAA,EAAD,KACI,kBAACwQ,EAAD,CACI/M,GAAI4M,EAAIE,IACRlE,KAAMgE,EAAIhE,KACVE,MAAO8D,EAAI9D,MACXC,MAAO6D,EAAI7D,MACXC,YAAa4D,EAAI5D,YACjBH,SAAU+D,EAAI/D,SACdI,QAAS2D,EAAI3D,UAEjB,kBAAC+D,GAAD,CACIjC,aAAc2B,EACd1B,eAAgB2B,EAChBrC,SAAUA,EACVrL,SAAU2N,EAAIE,IACdlE,KAAQgE,EAAIhE,KACZqC,YAAa2B,EAAIE,IACjBvC,MAAOqC,EAAI7D,MAAQuB,EACnBzC,OAAQrL,EAAM4K,gBACd+D,QAASiB,OAOrBhB,EAAakB,KACT,yBAAKxB,IAAK8B,EAAIE,KACd,kBAACG,GAAD,CACItL,SAAUiL,EAAIE,IACdlE,KAAMgE,EAAIhE,KACV2B,MAAOqC,EAAI7D,MAAQuB,EACnBgB,kBAAmBiB,EACnBhB,kBAAmBiB,IANvB,SAaJ,kBAACjQ,EAAA,EAAD,KACI,kBAAC6E,GAAA,EAAD,CAAO1C,KAAMmN,EAAY1K,YAAaoL,GACjCnB,GAEL,yBAAKzM,UAAU,gBACV8N,OCrHfrJ,GAASnC,IAAMC,MAAK,SAAA1E,GAAU,IAExB0Q,EAAa1Q,EAAb0Q,SAKJ,OAJJlB,qBAAU,WACNkB,MACD,CAACA,IAEO,kBAAC,IAAD,CAAUpG,GAAG,SASb4B,eAAQ,MANI,SAAA8C,GACvB,MAAO,CACH0B,SAAU,kBAAM1B,EAASE,YAIlBhD,CAAmCtF,ICZ5C+J,GAAiBlM,IAAMmM,MAAK,WAChC,OAAO,iCAGHC,GAAgBpM,IAAMmM,MAAK,WAC/B,OAAO,iCAIHE,GAAqBrM,IAAMmM,MAAK,WACpC,OAAO,iCAGHG,GAAmBtM,IAAMmM,MAAK,WAClC,OAAO,iCAGHI,GAAkBvM,IAAMmM,MAAK,WACjC,OAAO,kCAGHK,GAAkBxM,IAAMmM,MAAK,WACjC,OAAO,iCAGHM,GAAiBzM,IAAMmM,MAAK,WAChC,OAAO,kCAGHO,GAAS1M,IAAMmM,MAAK,WACxB,OAAO,iCAGHQ,GAAQ3M,IAAMmM,MAAK,WACvB,OAAO,iCAGHS,GAAM5M,IAAMC,MAAK,SAAA1E,GAAU,IACvBsR,EAAoBtR,EAApBsR,gBAER9B,qBAAU,WACR8B,MACC,CAACA,IAEJ,IAAIC,EACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOlK,KAAK,eAAemK,OAAQ,SAAAxR,GAAK,OAAI,kBAACmR,GAAWnR,MACxD,kBAAC,IAAD,CAAOqH,KAAK,cAAcmK,OAAQ,SAAAxR,GAAK,OAAI,kBAACoR,GAAUpR,MACtD,kBAAC,IAAD,CAAOqH,KAAK,WAAWmK,OAAQ,SAAAxR,GAAK,OAAI,kBAACuQ,EAAYvQ,MACrD,kBAAC,IAAD,CAAOqH,KAAK,IAAImD,OAAK,EAACgH,OAAQ,SAAAxR,GAAK,OAAI,kBAAC,GAAoBA,MAC5D,kBAAC,IAAD,CAAUsK,GAAG,OA0CrB,OAtCGtK,EAAM4K,kBAAoB5K,EAAM6K,UACjC0G,EACE,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOlK,KAAK,WAAWmD,OAAK,EAACiH,UAAWlB,IACxC,kBAAC,IAAD,CAAOlJ,KAAK,aAAamK,OAAQ,SAAAxR,GAAK,OAAI,kBAAC6Q,GAAkB7Q,MAC7D,kBAAC,IAAD,CAAOqH,KAAK,kBAAkBmK,OAAQ,SAAAxR,GAAK,OAAI,kBAACkR,GAAmBlR,MACnE,kBAAC,IAAD,CAAOqH,KAAK,oBAAoBmK,OAAQ,SAAAxR,GAAK,OAAI,kBAACiR,GAAoBjR,MACtE,kBAAC,IAAD,CAAOqH,KAAK,gBAAgBoK,UAAWC,KACvC,kBAAC,IAAD,CAAOrK,KAAK,IAAImD,OAAK,EAACgH,OAAQ,SAAAxR,GAAK,OAAI,kBAAC,GAAoBA,MAC5D,kBAAC,IAAD,CAAUsK,GAAG,QAKlBtK,EAAM6K,UACP0G,EACE,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOlK,KAAK,WAAWmD,OAAK,EAACiH,UAAWlB,IACxC,kBAAC,IAAD,CAAOlJ,KAAK,IAAImD,OAAK,EAACgH,OAAQ,SAAAxR,GAAK,OAAI,kBAAC,GAAoBA,MAC5D,kBAAC,IAAD,CAAOqH,KAAK,gBAAgBoK,UAAWC,KACvC,kBAAC,IAAD,CAAOrK,KAAK,aAAamK,OAAQ,SAAAxR,GAAK,OAAI,kBAAC2Q,GAAmB3Q,MAC9D,kBAAC,IAAD,CAAOqH,KAAK,sBAAsBmK,OAAQ,SAAAxR,GAAK,OAAI,kBAAC8Q,GAAuB9Q,MAC3E,kBAAC,IAAD,CAAOqH,KAAK,kBAAkBmK,OAAQ,SAAAxR,GAAK,OAAI,kBAACgR,GAAoBhR,MACpE,kBAAC,IAAD,CAAOqH,KAAK,oBAAoBmK,OAAQ,SAAAxR,GAAK,OAAI,kBAAC+Q,GAAqB/Q,MACvE,kBAAC,IAAD,CAAUsK,GAAG,iBAenB,6BACE,kBAACqH,EAAD,KACE,kBAAC,WAAD,CAAUC,SAAU,0CACjBL,QAoBIM,eAAW3F,aAbF,SAAAzC,GACtB,MAAO,CACLmB,gBAAwC,OAAvBnB,EAAMvC,OAAOZ,OAAuC,OAArBmD,EAAM0C,KAAK7F,MAC3DuE,QAASpB,EAAM0C,KAAKtB,YAIG,SAAAmE,GACzB,MAAM,CACJsC,gBAAiB,kBAAMtC,EAASE,YAIVhD,CAA8CmF,K,yBC3HlES,GAAe,CACjB3M,SAAU,GACVI,QAAS,GACTwM,WAAY,EACZjE,SAAU,EACVhI,OAAO,EACPkM,UAAU,GAGRC,GAAa,SAAExI,EAAOyI,GACxB,IAAMC,EAAc,gBAAMD,EAAOE,YAAc3I,EAAMtE,SAAS+M,EAAOE,aAAe,GAE9EC,EAAe,CACjBlN,SAFoBsC,aAAcgC,EAAMtE,SAAUgN,GAGlDrE,SAAUoE,EAAOpE,SAAW,EAC5BiE,WAAYtI,EAAMsI,WAAatI,EAAMtE,SAASoH,MAAM2F,EAAOE,aAC3DJ,UAAU,GAEd,OAAOvK,aAAcgC,EAAO4I,IAG1BC,GAAgB,SAAC7I,EAAOyI,GAC1B,IAAMK,EAAW,gBAAML,EAAOE,YAAc3I,EAAMtE,SAAS+M,EAAOE,aAAe,GAE3EC,EAAe,CACjBlN,SAFiBsC,aAAcgC,EAAMtE,SAAUoN,GAG/CzE,SAAUoE,EAAOpE,SAAW,EAC5BiE,WAAYtI,EAAMsI,WAAatI,EAAMtE,SAASoH,MAAM2F,EAAOE,aAC3DJ,UAAU,GAEd,OAAOvK,aAAcgC,EAAO4I,IAG1BnN,GAAc,SAACuE,EAAOyI,GACxB,OAAOzK,aAAcgC,EAAO,CACxBtE,SAAU,CACNA,SAAU+M,EAAO/M,UAErB4M,WAAY,EACZjM,OAAO,EACPkM,UAAU,KAIZ1M,GAAa,SAACmE,EAAOyI,GACvB,OAAOzK,aAAagC,EAAO,CACvBlE,QAAS2M,EAAO3M,WAIlBC,GAAsB,SAACiE,EAAOyI,GAChC,OAAOzK,aAAcgC,EAAO,CAAE3D,OAAO,KAc1B0M,GAXC,WAAqC,IAAnC/I,EAAkC,uDAA1BqI,GAAcI,EAAY,uCAChD,OAASA,EAAO9M,MACZ,KAAKC,KAAyB,OAAO4M,GAAYxI,EAAOyI,GACxD,KAAK7M,KAA4B,OAAOiN,GAAc7I,EAAOyI,GAC7D,KAAK7M,KAA0B,OAAOH,GAAYuE,EAAOyI,GACzD,KAAK7M,KAAyB,OAAOC,GAAWmE,EAAOyI,GACvD,KAAK7M,KAAmC,OAAOG,GAAoBiE,GACnE,QAAS,OAAOA,IC7DlBqI,GAAe,CACjB5L,OAAQ,GACRuM,SAAS,EACTC,WAAW,GAGT1M,GAAe,SAAEyD,EAAOyI,GAC1B,OAAOzK,aAAcgC,EAAO,CAAEiJ,WAAW,KAGvC3M,GAAuB,SAAE0D,EAAOyI,GAClC,OAAOzK,aAAcgC,EAAO,CAAEgJ,SAAS,KAGrC/M,GAAyB,SAAE+D,EAAOyI,GACpC,IAAMS,EAAWlL,aAAcyK,EAAOvM,UAAW,CAAEnC,GAAI0O,EAAO5B,MAC9D,OAAO7I,aAAcgC,EAAO,CACxBgJ,SAAS,EACTC,WAAW,EACXxM,OAAQuD,EAAMvD,OAAO0M,OAAQD,MAI/B9M,GAAsB,SAAE4D,EAAOyI,GACjC,OAAOzK,aAAcgC,EAAO,CAAEgJ,SAAS,KAGrCrM,GAAmB,SAAEqD,EAAOyI,GAC9B,OAAOzK,aAAcgC,EAAO,CAAEgJ,SAAS,KAGrCxM,GAAqB,SAAEwD,EAAOyI,GAChC,OAAOzK,aAAcgC,EAAO,CACxBvD,OAAQgM,EAAOhM,OACfuM,SAAS,KAIXtM,GAAkB,SAAEsD,EAAOyI,GAC7B,OAAOzK,aAAcgC,EAAO,CAAEgJ,SAAS,KAgB5BD,GAbC,WAAqC,IAAnC/I,EAAkC,uDAA1BqI,GAAcI,EAAY,uCAChD,OAASA,EAAO9M,MACZ,KAAKC,KAA2B,OAAOW,GAAcyD,GACrD,KAAKpE,KAAoC,OAAOU,GAAsB0D,GACtE,KAAKpE,KAAsC,OAAOK,GAAwB+D,EAAOyI,GACjF,KAAK7M,KAAmC,OAAOQ,GAAqB4D,GACpE,KAAKpE,KAAgC,OAAOe,GAAkBqD,GAC9D,KAAKpE,KAAkC,OAAOY,GAAoBwD,EAAOyI,GACzE,KAAK7M,KAA+B,OAAOc,GAAiBsD,GAC5D,QAAS,OAAOA,ICnDlBqI,GAAe,CACjBxL,MAAO,KACPC,OAAQ,KACRT,MAAO,KACP2M,SAAS,EACT5H,SAAS,EACTgI,iBAAkB,KAGhBrM,GAAY,SAACiD,EAAOyI,GACtB,OAAOzK,aAAagC,EAAO,CAAE3D,MAAO,KAAM2M,SAAS,KAGjD/L,GAAc,SAAC+C,EAAOyI,GACxB,OAAOzK,aAAagC,EAAO,CACvBnD,MAAO4L,EAAO5L,MACdC,OAAQ2L,EAAO3L,OACfT,MAAO,KACP2M,SAAS,KAIXhM,GAAe,SAACgD,EAAOyI,GACzB,OAAOzK,aAAagC,EAAO,CACvBnD,MAAO4L,EAAO5L,MACdC,OAAQ2L,EAAO3L,OACfsE,SAAS,EACT/E,MAAO,KACP2M,SAAS,KAIXK,GAAa,SAACrJ,EAAOyI,GACvB,OAAOzK,aAAagC,EAAO,CAAEnD,MAAO,KAAMC,OAAQ,KAAMsE,SAAS,KAG/DlE,GAAW,SAAC8C,EAAOyI,GACrB,OAAOzK,aAAagC,EAAO,CACvB3D,MAAOoM,EAAOpM,MACd2M,SAAS,KAIXM,GAAsB,SAACtJ,EAAOyI,GAChC,OAAOzK,aAAagC,EAAO,CAACoJ,iBAAkBX,EAAO7K,QAgB1CmL,GAbC,WAAmC,IAAlC/I,EAAiC,uDAAzBqI,GAAcI,EAAW,uCAC9C,OAAQA,EAAO9M,MACX,KAAKC,KAAwB,OAAOmB,GAAUiD,GAC9C,KAAKpE,KAA0B,OAAOqB,GAAY+C,EAAOyI,GACzD,KAAK7M,KAA2B,OAAOoB,GAAagD,EAAOyI,GAC3D,KAAK7M,KAAuB,OAAOsB,GAAS8C,EAAOyI,GACnD,KAAK7M,KAAyB,OAAOyN,GAAWrJ,GAChD,KAAKpE,KAAsC,OAAO0N,GAAoBtJ,EAAOyI,GAC7E,QACI,OAAOzI,ICxDbqI,GAAe,CACjBxL,MAAO,KACPC,OAAQ,KACRT,MAAO,KACP2M,SAAS,EACTI,iBAAkB,KAGhBvL,GAAc,SAACmC,EAAOyI,GACxB,OAAOzK,aAAagC,EAAO,CAAE3D,MAAO,KAAM2M,SAAS,KAGjDlL,GAAgB,SAACkC,EAAOyI,GAC1B,OAAOzK,aAAagC,EAAO,CACvBnD,MAAO4L,EAAO5L,MACdC,OAAQ2L,EAAO3L,OACfT,MAAO,KACP2M,SAAS,KAIXK,GAAa,SAACrJ,EAAOyI,GACvB,OAAOzK,aAAagC,EAAO,CAAEnD,MAAO,KAAMC,OAAQ,QAGhDiB,GAAa,SAACiC,EAAOyI,GACvB,OAAOzK,aAAagC,EAAO,CACvB3D,MAAOoM,EAAOpM,MACd2M,SAAS,KAIXrL,GAAwB,SAACqC,EAAOyI,GAClC,OAAOzK,aAAagC,EAAO,CAACoJ,iBAAkBX,EAAO7K,QAe1CmL,GAZC,WAAmC,IAAlC/I,EAAiC,uDAAzBqI,GAAcI,EAAW,uCAC9C,OAAQA,EAAO9M,MACX,KAAKC,KAA0B,OAAOiC,GAAYmC,GAClD,KAAKpE,KAA4B,OAAOkC,GAAckC,EAAOyI,GAC7D,KAAK7M,KAAyB,OAAOmC,GAAWiC,EAAOyI,GACvD,KAAK7M,KAAyB,OAAOyN,GAAWrJ,GAChD,KAAKpE,KAAsC,OAAO+B,GAAsBqC,EAAOyI,GAC/E,QACI,OAAOzI,I,wCCpCFuJ,I,YAQAC,I,YAKAC,I,YAoBAC,I,YA0BAC,IAjEXvQ,GAAMC,KAAMC,OAAO,CACrBC,QAAS,MAGPqQ,GAAa,SAAAC,GAAE,OAAI,IAAIC,SAAQ,SAAAC,GAAG,OAAIC,WAAWD,EAAKF,OAErD,SAAUN,GAAWd,GAArB,iEACH,OADG,SACGwB,aAAKL,GAAY,KADpB,OAEH,OAFG,SAEGK,aAAK,CAACC,aAAc,cAAe,SAFtC,OAGH,OAHG,SAGGD,aAAK,CAACC,aAAc,cAAe,kBAHtC,OAIH,OAJG,SAIGD,aAAK,CAACC,aAAc,cAAe,UAJtC,OAKH,OALG,UAKGjQ,aAAIwL,QALP,yCAQA,SAAU+D,GAAsBf,GAAhC,iEACH,OADG,SACG0B,aAA6B,KAAvB,IAAIC,MAAOC,WADpB,OAEH,OAFG,SAEGpQ,aAAIwL,QAFP,wCAKA,SAAUgE,GAAiBhB,GAA3B,yEACH,OADG,SACGxO,aAAIwL,QADP,OAaS,OAXF6E,EAAW,CACb5M,SAAU+K,EAAO/K,SACjBJ,MAAOmL,EAAOnL,MACdC,SAAUkL,EAAOlL,UAGX,gBARX,SAWWgN,EAAWnR,GAAIO,KAHf,gBAGyB2Q,GAXpC,SAaerQ,aAAIwL,KAAsB8E,EAASrE,KAAKW,IAAK0D,EAASrE,KAAK5I,QAb1E,+BAgBK,OAhBL,0BAeK4C,QAAQC,IAAI,+BAfjB,UAgBWlG,aAAIwL,KAAmB,qBAhBlC,uDAoBA,SAAUiE,GAAcjB,GAAxB,yEACH,OADG,SACGxO,aAAIwL,QADP,UAGO+E,EAAY,CACdlN,MAAOmL,EAAOnL,MACdC,SAAUkL,EAAOlL,UAGX,eARX,SAa2B,qBAFhBgN,EAAWnR,GAAIO,KAHf,eAGyB6Q,IAEnBlN,MAbjB,iBAcS,OAdT,SAcerD,aAAIwL,KAAoB8E,EAAS1D,IAAK0D,EAASjN,QAd9D,kCAemC,oBAAnBiN,EAASjN,MAfzB,iBAgBS,OAhBT,UAgBerD,aAAIwL,KAAqB8E,EAAS1D,IAAK0D,EAASjN,QAhB/D,gCAkBS,OAlBT,UAkBerD,aAAIwL,KAAiB,wBAlBpC,gCAsBS,OAtBT,0BAqBSvF,QAAQC,IAAI,gCArBrB,UAsBelG,aAAIwL,KAAiB,2BAtBpC,uDA0BA,SAAUkE,GAAmBlB,GAA7B,yEACW,OADX,SACiByB,aAAaO,QAAQ,SADtC,UACG5N,EADH,uBAGK,OAHL,SAGW5C,aAAIwL,QAHf,8BAQoB,OARpB,UAQ0ByE,aAAaO,QAAQ,UAR/C,WASuB,qBADZ3N,EARX,yBAUa,OAVb,UAUmB7C,aAAIwL,KAAoB5I,EAAOC,IAVlD,WAYuB,oBAAXA,EAZZ,iBAaa,OAbb,UAamB7C,aAAIwL,KAAqB5I,EAAOC,IAbnD,yC,gBC7DU4N,I,YASAC,IAbXvR,GAAMC,KAAMC,OAAO,CACrBC,QAAS,MAGN,SAAUmR,GAAiBjC,GAA3B,uEAEkB,OAFlB,kBAEwBrP,GAAIS,IAAK,QAFjC,OAGC,OADM0Q,EAFP,gBAGOtQ,aAAIwL,KAAoB8E,EAASrE,OAHxC,8BAKC,OALD,mCAKOjM,aAAIwL,QALX,sDASA,SAAUkF,GAAkBlC,GAA5B,uEAEkB,OAFlB,kBAEwBrP,GAAIS,IAAJ,eAAiB4O,EAAOmC,YAFhD,OAGC,OADML,EAFP,gBAGOtQ,aAAIwL,KAAmB8E,EAASrE,OAHvC,8BAKC,OALD,mCAKOjM,aAAIwL,QALX,sD,yBCVUoF,I,YAaAC,IAjBX1R,GAAMC,KAAMC,OAAO,CACrBC,QAAS,YAGN,SAAUsR,GAAoBpC,GAA9B,uEACH,OADG,SACGxO,aAAKwL,QADR,OAKkB,OAHrBvF,QAAQC,IAAIsI,GAFT,kBAKwBrP,GAAIO,KAAM,IAAK8O,EAAOvM,WAL9C,OAOC,OAFMqO,EALP,gBAOOtQ,aAAKwL,KAAgC8E,EAASrE,KAAKvD,KAAM8F,EAAOvM,YAPvE,+BASS,OATT,oCASejC,aAAKwL,KAAA,OATpB,uDAaA,SAAUqF,GAAgBrC,GAA1B,6EACH,OADG,SACGxO,aAAIwL,QADP,OAIsB,OAFfsF,EAAc,SAAWtC,EAAO5L,MAAQ,8BAAgC4L,EAAO3L,OAAS,IAF/F,kBAI4B1D,GAAIS,IAAK,eAAiBkR,GAJtD,OAMS,IAAUlG,KAFR0F,EAJX,OAKWS,EAAgB,GACDT,EAASrE,KACtB8E,EAAc3E,KAAd,6BACOkE,EAASrE,KAAKrB,IADrB,IAEI9K,GAAI8K,KAGZ,OAZT,UAYe5K,aAAIwL,KAA2BuF,IAZ9C,gCAcK,OAdL,oCAcW/Q,aAAIwL,KAAA,OAdf,uD,gBCdUwF,I,YAUAC,I,YAOAC,IAjBV,SAAUF,KAAV,iEACH,OADG,SACGG,aAAI,CACNC,aAAUC,KAAiC/B,IAC3C8B,aAAUC,KAA+B9B,IACzC6B,aAAUC,KAAsB5B,IAChC2B,aAAUC,KAAwB7B,IAClC4B,aAAUC,KAA6B3B,MANxC,wCAUA,SAAUuB,KAAV,iEACH,OADG,SACGE,aAAI,CACNC,aAAUC,KAA0BZ,IACpCW,aAAUC,KAAwBX,MAHnC,wCAOA,SAAUQ,KAAV,iEACH,OADG,SACGI,aAAWD,KAA6BT,IAD3C,OAEH,OAFG,SAEGQ,aAAUC,KAAyBR,IAFtC,wCCNP,IAAMU,GAAkHC,IAElHC,GAAcC,YAAgB,CAChC7P,QAAS8P,GACTC,MAAOC,GACPpJ,KAAMqJ,GACNtO,OAAQuO,KAGNC,GAAiBC,cAEjBC,GAAQC,YAAYV,GAAaF,GACnCa,YAAgBC,IAAOL,MAG3BA,GAAeM,IAAItB,IACnBgB,GAAeM,IAAIrB,IACnBe,GAAeM,IAAIpB,IAEnB,IAAMvD,GACJ,kBAAC,IAAD,CAAUuE,MAAOA,IACX,kBAAC,IAAD,KACI,kBAACK,GAAD,QAKZC,IAAS1E,OACPH,GACA8E,SAASC,eAAe,SvB3BX,WACb,GAA6C,kBAAmBpN,UAAW,CAGzE,GADkB,IAAIqN,IAAIC,GAAwB5N,OAAOC,UAC3C4N,SAAW7N,OAAOC,SAAS4N,OAIvC,OAGF7N,OAAO8N,iBAAiB,QAAQ,WAC9B,IAAMzN,EAAK,UAAMuN,GAAN,sBAEN9N,EAwCX,SAAiCO,GAE/B0N,MAAM1N,GACHI,MAAK,SAAA6K,GAGkB,MAApBA,EAAS0C,SACuD,IAAhE1C,EAAS2C,QAAQrT,IAAI,gBAAgBsT,QAAQ,cAG7C5N,UAAUC,cAAc4N,MAAM1N,MAAK,SAAAC,GACjCA,EAAa0N,aAAa3N,MAAK,WAC7BT,OAAOC,SAASoO,eAKpBjO,EAAgBC,MAGnBc,OAAM,WACLF,QAAQC,IACN,oEAzDAoN,CAAwBjO,GAHxBD,EAAgBC,OuBaxBkO,K","file":"static/js/main.14a52b0a.chunk.js","sourcesContent":["const Aux = props => props.children;\n\nexport default Aux;","export const ADD_PRODUCT = 'ADD_PRODUCT';\nexport const REMOVE_PRODUCT = 'REMOVE_PRODUCT';\nexport const SET_PRODUCTS = 'SET_PRODUCTS';\nexport const OPEN_DETAIL = 'OPEN_DETAIL';\nexport const FETCH_PRODUCTS_FAILED = 'FETCH_PRODUCTS_FAILED';\nexport const INIT_PRODUCTS = 'INIT_PRODUCTS';\n\nexport const PURCHASE_PRODUCT = 'PURCHASE_PRODUCT';\nexport const PURCHASE_PRODUCT_START = 'PURCHASE_PRODUCT_START';\nexport const PURCHASE_PRODUCT_SUCCESS = 'PURCHASE_PRODUCT_SUCCESS';\nexport const PURCHASE_PRODUCT_FAIL = 'PURCHASE_PRODUCT_FAIL';\nexport const PURCHASE_INIT = 'PURCHASE_INIT';\n\nexport const FETCH_ORDERS_START = 'FETCH_ORDERS_START';\nexport const FETCH_ORDERS_SUCCESS = 'FETCH_ORDERS_SUCCESS';\nexport const FETCH_ORDERS_FAIL = 'FETCH_ORDERS_FAIL';\nexport const FETCH_ORDERS = 'FETCH_ORDERS'\n\nexport const AUTH_USER = 'AUTH_USER';\nexport const AUTH_CHECK_STATE = 'AUTH_CHECK_STATE';\nexport const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAIL = 'AUTH_FAIL';\nexport const AUTH_CHECK_TIMEOUT = 'AUTH_CHECK_TIMEOUT';\nexport const AUTH_INITIATE_LOGOUT = 'AUTH_INITIATE_LOGOUT';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\n\nexport const SIGNUP_USER = 'SIGNUP_USER';\nexport const SIGNUP_START = 'SIGNUP_START';\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\n\nexport const ADMIN_SUCCESS = 'ADMIN_SUCCESS';\n\nexport const SET_SIGNUP_REDIRECT_PATH = 'SET_SIGNUP_REDIRECT_PATH';","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"SideDrawer_SideDrawer__3kXLK\",\"Open\":\"SideDrawer_Open__1tCv1\",\"Close\":\"SideDrawer_Close__9j7x-\",\"Logo\":\"SideDrawer_Logo__3voUv\"};","import React from 'react';\n\nimport classes from './Backdrop.module.css';\n\nconst backdrop = (props) => (\n    props.show ? <div className={classes.Backdrop} onClick={props.clicked}></div> : null\n);\n\nexport default backdrop;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__ApScI\",\"Logo\":\"Toolbar_Logo__3Lk47\",\"DesktopOnly\":\"Toolbar_DesktopOnly__LuPaL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControl\":\"BuildControl_BuildControl__2sdGF\",\"Buttons\":\"BuildControl_Buttons__6Xerj\",\"DinamicFields\":\"BuildControl_DinamicFields__WdCDH\",\"Less\":\"BuildControl_Less__2Ylir\",\"More\":\"BuildControl_More__16avn\"};","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst button = (props) => (\n    <button\n        disabled={props.disabled}\n        className={[classes.Button, classes[props.btnType]].join(' ')}\n        onClick={props.clicked}>{props.children}</button>\n);\n\nexport default button;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItem\":\"NavigationItem_NavigationItem__2SpXc\",\"active\":\"NavigationItem_active__2v2td\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3gFiX\",\"Success\":\"Button_Success__2Rka1\",\"Danger\":\"Button_Danger__2ogZq\"};","import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: '/',\n});\n\n// Products\nexport const insertProduct = payload => api.post('/api', payload);\nexport const getAllProducts = () => api.get('/api');\nexport const getOneProduct = id => api.get(`/api/${id}`); \nexport const updateProductById = (id, payload) => api.put(`/api/${id}`, payload);\nexport const deleteProductById = id => api.delete(`/api/${id}`);\n\n// Orders\nexport const insertOrder = payload => api.post('/orders', payload);\nexport const getAllOrders = () => api.get('/orders');\nexport const getOrderById = id => api.get(`/orders/${id}`);\nexport const updateOrderById = (id, payload) => api.put(`/orders/${id}`, payload);\nexport const deleteOrderById = id => api.delete(`/orders/${id}`);\n\n// Users\nexport const registerUser = payload => api.post('/users/signup', payload);\nexport const loginUser = payload => api.post('/users/login', payload);\nexport const logoutUser = () => api.post('/users/logout');\nexport const getAllUsers = () => api.get('/users');\nexport const getUserById = id => api.get(`/users/${id}`);\nexport const updateUserById = (id, payload) => api.put(`/users/${id}`, payload);\nexport const deleteUserById = id => api.delete(`/users/${id}`);\n\nconst apis = {\n    insertProduct,\n    getAllProducts,\n    getOneProduct,\n    updateProductById,\n    deleteProductById,\n    insertOrder,\n    getAllOrders,\n    getOrderById,\n    updateOrderById,\n    deleteOrderById,\n    registerUser,\n    loginUser,\n    logoutUser,\n    getAllUsers,\n    getUserById,\n    updateUserById,\n    deleteUserById,\n};\n\nexport default apis;","import React from 'react';\n\nimport classes from './Modal.module.css';\nimport Aux from '../../../hoc/Aux/Aux';\nimport Backdrop from '../Backdrop/Backdrop';\n\nconst modal = props => {\n\n    // shouldComponentUpdate ( nextProps, nextState ) {\n    //     return nextProps.show !== props.show || nextProps.children !== props.children;\n    // }\n\n        return (\n            <Aux>\n                <Backdrop show={props.show} clicked={props.modalClosed} />\n                <div\n                    className={classes.Modal}\n                    style={{\n                        transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\n                        opacity: props.show ? '1' : '0'\n                    }}>\n                    {props.children}\n                </div>\n            </Aux>\n        )\n}\n\nexport default React.memo(\n    modal, \n    (prevProps, nextProps) => \n        nextProps.show === prevProps.show && \n        nextProps.children === prevProps.children\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Layout_Content__3H3X8\"};","module.exports = __webpack_public_path__ + \"static/media/logo.302eb1dc.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"Logo_Logo__1N0xH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItems\":\"NavigationItems_NavigationItems__1fnFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerToggle\":\"DrawerToggle_DrawerToggle__m405X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3j6VK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControls\":\"BuildControls_BuildControls__t497Q\",\"OrderButton\":\"BuildControls_OrderButton__2N-0E\",\"enable\":\"BuildControls_enable__3ujjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1-5dN\"};","import * as actionTypes from './actionTypes';\n\n\nexport const addProduct = ( name ) => {\n    return {\n        type: actionTypes.ADD_PRODUCT,\n        productName: name\n    };\n};\n\nexport const removeProduct = ( name ) => {\n    return {\n        type: actionTypes.REMOVE_PRODUCT,\n        productName: name\n    };\n};\n\nexport const setProducts = ( products ) => {\n    return {\n        type: actionTypes.SET_PRODUCTS,\n        products: products\n    };\n};\n\nexport const openDetail = ( product ) => {\n    return {\n        type: actionTypes.OPEN_DETAIL,\n        product: product\n    };\n};\n\nexport const fetchProductsFailed = () => {\n    return {\n        type: actionTypes.FETCH_PRODUCTS_FAILED\n    };\n};\n\nexport const initProducts = () => {\n    return {\n        type: actionTypes.INIT_PRODUCTS\n    };\n};","import * as actionTypes from './actionTypes';\n\nexport const purchaseProductSuccess = ( id, orderData ) => {\n    return {\n        type: actionTypes.PURCHASE_PRODUCT_SUCCESS,\n        orderId: id,\n        orderData: orderData\n    };\n};\n\nexport const purchaseProductFail = ( error ) => {\n    return {\n        type: actionTypes.PURCHASE_PRODUCT_FAIL,\n        error: error\n    };\n}\n\nexport const purchaseProductStart = () => {\n    return {\n        type: actionTypes.PURCHASE_PRODUCT_START\n    };\n};\n\nexport const purchaseProduct = ( orderData, token ) => {\n    return {\n        type: actionTypes.PURCHASE_PRODUCT,\n        orderData: orderData,\n        token: token\n    }\n};\n\nexport const purchaseInit = () => {\n    return {\n        type: actionTypes.PURCHASE_INIT\n    };\n};\n\nexport const fetchOrdersSuccess = ( orders ) => {\n    return {\n        type: actionTypes.FETCH_ORDERS_SUCCESS,\n        orders: orders\n    };\n};\n\nexport const fetchOrdersFail = ( error ) => {\n    return {\n        type: actionTypes.FETCH_ORDERS_FAIL,\n        error: error\n    };\n};\n\nexport const fetchOrdersStart = () => {\n    return {\n        type: actionTypes.FETCH_ORDERS_START\n    };\n};\n\nexport const fetchOrders = (token, userId) => {\n    return {\n        type: actionTypes.FETCH_ORDERS,\n        token: token,\n        userId: userId\n    }\n};","import * as actionTypes from './actionTypes';\n\nexport const authStart = () => {\n    return {\n        type: actionTypes.AUTH_START\n    };\n};\n\nexport const adminSuccess = (token,id) => {\n    return {\n        type: actionTypes.ADMIN_SUCCESS,\n        token: token,\n        userId: id\n    };\n};\n\nexport const authSuccess =  (token, id) => {\n    return {\n        type: actionTypes.AUTH_SUCCESS,\n        token: token,\n        userId: id\n    };\n};\n\nexport const authFail = (error) => {\n    return {\n        type: actionTypes.AUTH_FAIL,\n        error: error\n    };\n};\n\nexport const logout = () => {\n    return {\n        type: actionTypes.AUTH_INITIATE_LOGOUT\n    };\n};\n\nexport const logoutSucceed = () => {\n    return {type: actionTypes.AUTH_LOGOUT};\n};\n\nexport const checkAuthTimeout = (expirationTime) => {\n    return {\n        type: actionTypes.AUTH_CHECK_TIMEOUT,\n        expirationTime: expirationTime\n    }\n};\n\nexport const login = (email, password) => {\n    return {\n        type: actionTypes.AUTH_USER,\n        email: email,\n        password: password,\n    };\n};\n\nexport const authCheckState = () => {\n    return {\n        type: actionTypes.AUTH_CHECK_STATE\n    };\n};\n\nexport const signup = (username, email, password) => {\n    return {\n        type: actionTypes.SIGNUP_USER,\n        username: username,\n        email: email,\n        password: password\n    }\n};\n\nexport const setSignupRedirectPath = (path) => {\n    return {\n        type: actionTypes.SET_SIGNUP_REDIRECT_PATH,\n        path: path\n    }\n};\n\nexport const signupStart = () => {\n    return {\n        type: actionTypes.SIGNUP_START\n    };\n};\n\nexport const signupSuccess = (token, id) => {\n    return {\n        type: actionTypes.SIGNUP_SUCCESS,\n        token: token,\n        userId: id\n    };\n};\n\nexport const signupFail = (error) => {\n    return {\n        type: actionTypes.SIGNUP_FAIL,\n        error: error\n    };\n};","export const updateObject = (oldObject, updatedProperties) => {\n    return {\n        ...oldObject,\n        ...updatedProperties\n    };\n};\n\nexport const checkValidity = (value, rules) => {\n    let isValid = true;\n    if (!rules) {\n        return true;\n    }\n    \n    if (rules.required) {\n        isValid = value.trim() !== '' && isValid;\n    }\n\n    if (rules.minLength) {\n        isValid = value.length >= rules.minLength && isValid\n    }\n\n    if (rules.maxLength) {\n        isValid = value.length <= rules.maxLength && isValid\n    }\n\n    if (rules.isEmail) {\n        const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n        isValid = pattern.test(value) && isValid\n    }\n\n    if (rules.isNumeric) {\n        const pattern = /^\\d+$/;\n        isValid = pattern.test(value) && isValid\n    }\n\n    return isValid;\n};","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\n\nimport brandLogo from '../../assets/images/logo.png';\nimport classes from './Logo.module.css';\n\nconst logo = (props) => (\n    <div className={classes.Logo} style={{height: props.height}}>\n        <img src={brandLogo} alt=\"MyLogo\" />\n    </div>\n);\n\nexport default logo;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport classes from './NavigationItem.module.css';\n\nconst navigationItem = ( props ) => (\n    <li className={classes.NavigationItem}>\n        <NavLink \n            to={props.link}\n            exact={props.exact}\n            activeClassName={classes.active}>{props.children}</NavLink>\n    </li>\n);\n\nexport default navigationItem;","import React from 'react';\n\nimport classes from './NavigationItems.module.css';\nimport NavigationItem from './NavigationItem/NavigationItem';\n// import ThemeButton from '../../ThemeContext/ThemeButton';\n\nconst navigationItems = (props) => {\n\n    return(\n        <ul className={classes.navigationItems}>\n            <NavigationItem link=\"/\" exact>Produtos</NavigationItem>\n            {props.isAuthenticated && !props.isAdmin\n                ? <NavigationItem link=\"/dashboard\">Dashboard</NavigationItem>\n                : null }\n            {props.isAdmin && props.isAuthenticated\n                ? <NavigationItem link=\"/dashboard\">Dashboard</NavigationItem>\n                : null}\n            {!props.isAuthenticated\n                ? <NavigationItem link=\"/users/login\">Login</NavigationItem>\n                : <NavigationItem link=\"/users/logout\">Logout</NavigationItem>}\n            {/* <ThemeButton /> */}\n        </ul>\n    );  \n};\n\nexport default navigationItems;","import React from 'react';\n\nimport classes from './DrawerToggle.module.css';\n\nconst drawerToggle = (props) => (\n    <div className={classes.DrawerToggle} onClick={props.clicked}>\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n);\n\nexport default drawerToggle;","import React from 'react';\n\nimport classes from './Toolbar.module.css';\nimport Logo from '../../Logo/Logo';\nimport NavigationItems from '../NavigationItems/NavigationItems';\nimport DrawerToggle from '../SideDrawer/DrawerToggle/DrawerToggle';\n\nconst toolbar = ( props ) => (\n    <header className={classes.Toolbar}>\n\n        <DrawerToggle clicked={props.drawerToggleClicked} />\n        <div className={classes.Logo}>\n            <Logo />\n        </div>\n        <nav className={classes.DesktopOnly}>\n            <NavigationItems isAuthenticated={props.isAuth} isAdmin={props.isAdmin} />\n        </nav>\n    </header>\n);\n\nexport default toolbar;","import React from 'react';\n\nimport Logo from '../../Logo/Logo';\nimport NavigationItems from '../NavigationItems/NavigationItems';\nimport classes from './SideDrawer.module.css';\nimport Backdrop from '../../UI/Backdrop/Backdrop';\nimport Aux from '../../../hoc/Aux/Aux';\n\nconst sideDrawer = ( props ) => {\n    let attachedClasses = [classes.SideDrawer, classes.Close];\n    if (props.open) {\n        attachedClasses = [classes.SideDrawer, classes.Open];\n    }\n    return (\n        <Aux>\n            <Backdrop show={props.open} clicked={props.closed}/>\n            <div className={attachedClasses.join(' ')} onClick={props.closed} >\n                <div className={classes.Logo}>\n                    <Logo />\n                </div>\n                <nav>\n                    <NavigationItems isAuthenticated={props.isAuth} />\n                </nav>\n            </div>\n        </Aux>\n    );\n};\n\nexport default sideDrawer;","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport Aux from '../Aux/Aux';\nimport classes from './Layout.module.css';\nimport Toolbar from '../../components/Navigation/Toolbar/Toolbar';\nimport SideDrawer from '../../components/Navigation/SideDrawer/SideDrawer';\n// import theme from '../../components/ThemeContext/ThemeStyle';\n// import ThemeContext from '../../components/ThemeContext/ThemeContext';\n\nconst layout = React.memo(props => {\n    const [showSideDrawer, setShowSideDrawer] = useState(false);\n\n    const sideDrawerClosedHandler = () => {\n        setShowSideDrawer(false);\n    }\n\n    const sideDrawerToggleHandler = () => {\n        setShowSideDrawer(!showSideDrawer);\n    }\n\n        return (\n            <Aux>\n                {/* <ThemeContext.Provider value={theme.themes.dark}> */}\n                <Toolbar\n                    isAuth={props.isAuthenticated}\n                    isAdmin={props.isAdmin} \n                    drawerToggleClicked={sideDrawerToggleHandler} />\n                \n                <SideDrawer\n                    isAuth={props.isAuthenticated} \n                    isAdmin={props.isAdmin} \n                    open={showSideDrawer}\n                    closed={sideDrawerClosedHandler} />\n                {/* </ThemeContext.Provider> */}\n                <main className={classes.Content}>\n                    {props.children}\n                </main>\n            </Aux>\n        )\n});\n\nconst mapStateToProps = state => {\n    return {\n        isAuthenticated: state.signup.token !== null || state.auth.token !== null,\n        isAdmin: state.auth.isAdmin\n    };\n};\n\nexport default connect (mapStateToProps) (layout);","// product that will be render in the scream\nimport React from 'react';\nimport { Card, Button } from 'react-bootstrap';\n\nimport Aux from '../../hoc/Aux/Aux';\n\nconst product = React.memo(props => {\n    const {id, name, category, brand, price, description, picture} = props;\n\n    const openProductHandler = (event) => {\n        event.preventDefault();\n        return (\n            window.location.href = `/api/${event.match.params.id}`\n        )\n    };\n\n    const purchaseProductHandler = () => { \n        console.log('purchaseHandler');\n    };\n\n    return(\n        <>\n        <Aux>\n            <div className='card' style={{width: '18rem'}}>\n                    <img className='card-img-top' style={{display: 'flex'}} src={picture} />\n                    \n                        <Card.Title>{name}</Card.Title>\n                        <Card.Text><strong>Preço: R$ {price.toFixed(2)}</strong></Card.Text>\n                        <Card.Subtitle className='mb-2 text-muted'>Categoria: {category}</Card.Subtitle>\n                        <Card.Text>Descrição: {description}</Card.Text>\n                        \n                        <Card.Text>Marca: {brand}</Card.Text>\n                        <Button id={id} onClick={() => purchaseProductHandler()} variant='warning'>Comprar</Button>\n                        <Button id={id} onClick={(event) => openProductHandler(event)} variant='primary'>Detalhe</Button>\n            </div>\n        </Aux>\n        </>\n    );\n});\n\nexport default product;","import React from 'react';\n\nimport classes from './BuildControl.module.css';\n\nconst buildControl = (props) => (\n    <div className='card-body' style={{textAlign: 'center', display: 'flex'}}>\n        <button \n            className={classes.Less} \n            onClick={props.removed} \n            disabled={props.disabled}>-</button>\n        <button \n            className={classes.More} \n            onClick={props.added}>+</button>\n        <div className={classes.DinamicFields}>\n            <p><strong>Quantidade: {props.quantity}</strong></p>\n            <p><strong>Total: R$ {props.total.toFixed(2)}</strong></p>\n        </div>\n    </div>\n);\n\nexport default buildControl;","import React from 'react';\n\nimport classes from './BuildControls.module.css';\nimport BuildControl from './BuildControl/BuildControl';\n\nconst controls = [\n    { label: '' }\n];\n\nconst buildControls = (props) => (\n    <div>\n        {controls.map(ctrl => (\n            <BuildControl \n                key={ctrl.label} \n                added={() => props.productAdded(ctrl.type)}\n                removed={() => props.productRemoved(ctrl.type)}\n                quantity={props.quantity}\n                total={props.total}\n                disabled={props.purchasable} \n            />\n        ))}\n        <button \n            className={classes.OrderButton}\n            disabled={!props.purchasable}\n            onClick={props.ordered}>{props.isAuth ? 'ORDER NOW' : 'SIGN UP TO ORDER'}</button>\n    </div>\n);\n\nexport default buildControls;","import React from 'react';\n\nimport Button from '../../UI/Button/Button';\n\nconst orderSummary = props => (\n            <>\n                <h3>Carrinho de compras</h3>\n                <p>Sua compra com os seguintes produtos:</p>\n                <span style={{ textTransform: 'capitalize' }}>{props.products}</span>: {props.name}\n                <p>Continue to Checkout?</p>\n                <Button btnType=\"Danger\" clicked={props.purchaseCancelled}>CANCEL</Button>\n                <Button btnType=\"Success\" clicked={props.purchaseContinued}>CONTINUE</Button>\n            </>\n);\n\n\nexport default orderSummary;","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Card } from 'react-bootstrap';\n\nimport Product from '../../components/Product/Product';\nimport BuildControls from '../../components/Product/BuildControls/BuildControls';\nimport Modal from '../../components/UI/Modal/Modal';\nimport OrderSummary from '../../components/Product/OrderSummary/OrderSummary';\n// import Spinner from '../../components/UI/Spinner/Spinner';\nimport * as actions from '../../store/actions';\nimport Aux from '../../hoc/Aux/Aux';\nimport api from '../../api';\n\nconst ProductsBuilder = props => {\n\n    const [products, setProducts] = useState([]);\n    const [purchasing, setPutchasing] = useState(false);\n    const [quantity, setQuantity] = useState(0);\n\n    useEffect(() => {\n        getAllProducts();\n    }, []);\n\n    const getAllProducts = async() => {\n        try {\n            await api.getAllProducts()\n                .then(prds => setProducts(prds.data) );\n        } catch(err) {\n            console.log('Error to fetch the data in the front-end component: ' + err);\n        }\n    };\n\n    // const updatePurchaseState = ( products ) => {\n    //     const sum = Object.keys( products )\n    //         .map( igKey => {\n    //             return products[igKey];\n    //         } )\n    //         .reduce( ( sum, el ) => {\n    //             return sum + el;\n    //         }, 0 );\n    //     return sum > 0;\n    // };\n\n    const purchaseHandler = () => {\n        if(props.isAuthenticated) {\n            setPutchasing(true);\n        } else {\n            props.onSetSignupRedirectPath('/checkout'); \n            props.history.push('/login');\n        }\n    };\n\n    const purchaseCancelHandler = () => {\n        setPutchasing(false);\n    };\n\n    const purchaseContinueHandler = () => {\n        props.onInitPurchase();\n        props.history.push('/checkout');\n    };\n\n    let productArray = [];\n    let orderSummary = [];\n\n    const productAdd = () => {\n        setQuantity(quantity + 1)\n    };\n\n    const productRemove = () => {\n        setQuantity(quantity -1);\n    }\n\n    if ( products.length > 0 ) {\n        products.map(prd => {\n            productArray.push(    \n                 \n                <Card.Body key={prd._id} style={{textAlign: 'center'}}>\n                 \n                <Aux>\n                    <Product \n                        id={prd._id}\n                        name={prd.name}\n                        brand={prd.brand}\n                        price={prd.price}\n                        description={prd.description}\n                        category={prd.category}\n                        picture={prd.picture}\n                    />\n                    <BuildControls \n                        productAdded={productAdd}\n                        productRemoved={productRemove}\n                        quantity={quantity}\n                        disabled={prd._id}\n                        name = {prd.name}\n                        purchasable={prd._id}\n                        total={prd.price * quantity}\n                        isAuth={props.isAuthenticated}\n                        ordered={purchaseHandler}\n                    />\n                </Aux>\n                </Card.Body>\n                \n            )\n            \n            orderSummary.push(\n                <div key={prd._id}>\n                <OrderSummary \n                    products={prd._id}\n                    name={prd.name}\n                    total={prd.price * quantity}\n                    purchaseCancelled={purchaseCancelHandler}\n                    purchaseContinued={purchaseContinueHandler} />;\n                </div>\n            );\n        })\n    };\n\n        return (\n            <Aux>\n                <Modal show={purchasing} modalClosed={purchaseCancelHandler}>\n                    {orderSummary}\n                </Modal>\n                <div className='row row-sm-6'>\n                    {productArray}\n                </div>\n            </Aux>\n        );\n};\n\nconst mapStateToProps = state => {\n    return {\n        error: state.product.error,\n        isAuthenticated: state.auth.token !== null || state.signup.token !== null,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onInitProducts: () => dispatch(actions.initProducts()),\n        onInitPurchase:  () => dispatch(actions.purchaseInit()),\n        onSetSignupRedirectPath: (path) => dispatch(actions.setSignupRedirectPath(path)),\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ProductsBuilder);","import React, { useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../store/actions/index';\n\nconst logout = React.memo(props => {\n    \n    const { onLogout } = props;\n    useEffect(() => {\n        onLogout();\n    }, [onLogout]);\n\n        return <Redirect to=\"/\" />;\n});\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onLogout: () => dispatch(actions.logout())\n    };\n}\n\nexport default connect(null, mapDispatchToProps) (logout);","import React, { Suspense, useEffect } from 'react';\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Layout from './hoc/Layout/Layout';\nimport ProductsBuilder from './containers/Products/ProductsBuilder';\nimport Logout from './containers/Auth/Logout/Logout';\nimport Product from './components/Product/Product';\nimport * as actions from './store/actions/index';\n\nconst AdminDashboard = React.lazy(() => {\n  return import('./containers/Dashboard/AdminDashboard');\n});\n\nconst UserDashboard = React.lazy(() => {\n  return import('./containers/Dashboard/UserDashboard');\n});\n\n\nconst ProductsController = React.lazy(() => {\n  return import('./components/Controller/Products/ProductsController');\n});\n\nconst OrdersController = React.lazy(() => {\n  return import('./components/Controller/Orders/OrdersController');\n});\n\nconst UsersController = React.lazy(() => {\n  return import('./components/Controller/Users/UsersController');\n});\n\nconst OrderController = React.lazy(() => {\n  return import('./components/Controller/Orders/OrderController');\n});\n\nconst UserController = React.lazy(() => {\n  return import('./components/Controller/Users/UserController');\n});\n\nconst Signup = React.lazy(() => {\n  return import('./containers/Auth/Signup');\n});\n\nconst Login = React.lazy(() => {\n  return import('./containers/Auth/Login');\n});\n\nconst app = React.memo(props => {\n  const { onTryAutoSignup } = props;\n\n  useEffect(() => {\n    onTryAutoSignup();\n  }, [onTryAutoSignup]);\n  \n  let routes = (\n      <Switch>\n          <Route path=\"/user/signup\" render={props => <Signup {...props} />} />\n          <Route path=\"/user/login\" render={props => <Login {...props} />} />\n          <Route path='/api/:id' render={props => <Product {...props} />} />\n          <Route path='/' exact render={props => <ProductsBuilder {...props} />} />\n          <Redirect to=\"/\" />\n      </Switch>\n  );\n\n  if(props.isAuthenticated && !props.isAdmin) {\n    routes = ( \n      <Switch>\n          <Route path='/api/:id' exact component={Product} />\n          <Route path=\"/dashboard\" render={props => <UserDashboard {...props} />} />\n          <Route path=\"/dashboard/user\" render={props => <UserController {...props} />} />\n          <Route path=\"/dashboard/orders\" render={props => <OrderController {...props} />} />\n          <Route path=\"/users/logout\" component={Logout} />\n          <Route path='/' exact render={props => <ProductsBuilder {...props} />} />\n          <Redirect to=\"/\" />\n      </Switch>\n    );\n  }\n\n  if(props.isAdmin) {\n    routes = ( \n      <Switch>\n          <Route path='/api/:id' exact component={Product} />\n          <Route path=\"/\" exact render={props => <ProductsBuilder {...props} />} />\n          <Route path=\"/users/logout\" component={Logout} />\n          <Route path='/dashboard' render={props => <AdminDashboard {...props} />} />\n          <Route path=\"/dashboard/products\" render={props => <ProductsController {...props} />} />\n          <Route path=\"/dashboard/user\" render={props => <UsersController {...props} />} />\n          <Route path=\"/dashboard/orders\" render={props => <OrdersController {...props} />} />\n          <Redirect to=\"/dashboard\" />\n      </Switch>\n    );\n  }\n\n  // if(props.isAdmin) {\n  //   routes = ( \n      // <Switch>\n        // <Route path=\"/dashboard\" component={Dashboard} />\n        \n      // </Switch>\n  //   )\n  // }\n\n  return (\n    <div>\n      <Layout>\n        <Suspense fallback={<p>Loading...</p>}>\n          {routes}\n        </Suspense>\n      </Layout>\n    </div>\n  );\n});\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.signup.token !== null || state.auth.token !== null,\n    isAdmin: state.auth.isAdmin\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    onTryAutoSignup: () => dispatch(actions.authCheckState())\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps) (app));","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../shared/utility';\n\nconst initialState = {\n    products: [],\n    product: '',\n    totalPrice: 0,\n    quantity: 0,\n    error: false,\n    building: false\n};\n\nconst addProduct = ( state, action ) => {\n    const updatedProduct = { [action.productName]: state.products[action.productName] + 1 }\n    const updatedProducts = updateObject( state.products, updatedProduct );\n    const updatedState = {\n        products: updatedProducts,\n        quantity: action.quantity + 1,\n        totalPrice: state.totalPrice + state.products.price[action.productName],\n        building: true\n    }\n    return updateObject( state, updatedState );\n};\n\nconst removeProduct = (state, action) => {\n    const updatedProd = { [action.productName]: state.products[action.productName] - 1 }\n    const updatedProds = updateObject( state.products, updatedProd );\n    const updatedState = {\n        products: updatedProds,\n        quantity: action.quantity - 1,\n        totalPrice: state.totalPrice - state.products.price[action.productName],\n        building: true\n    }\n    return updateObject( state, updatedState );\n};\n\nconst setProducts = (state, action) => {\n    return updateObject( state, {\n        products: {\n            products: action.products\n        },\n        totalPrice: 0,\n        error: false,\n        building: false\n    });\n};\n\nconst openDetail = (state, action) => {\n    return updateObject(state, {\n        product: action.product\n    })\n}\n\nconst fetchProductsFailed = (state, action) => {\n    return updateObject( state, { error: true } );\n};\n\nconst reducer = ( state = initialState, action ) => {\n    switch ( action.type ) {\n        case actionTypes.ADD_PRODUCT: return addProduct( state, action );\n        case actionTypes.REMOVE_PRODUCT: return removeProduct(state, action);\n        case actionTypes.SET_PRODUCTS: return setProducts(state, action);    \n        case actionTypes.OPEN_DETAIL: return openDetail(state, action);    \n        case actionTypes.FETCH_PRODUCTS_FAILED: return fetchProductsFailed(state, action);\n        default: return state;\n    }\n};\n\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../shared/utility';\n\nconst initialState = {\n    orders: [],\n    loading: false,\n    purchased: false,\n};\n\nconst purchaseInit = ( state, action ) => {\n    return updateObject( state, { purchased: false } );\n};\n\nconst purchaseProductStart = ( state, action ) => {\n    return updateObject( state, { loading: false } );\n};\n\nconst purchaseProductSuccess = ( state, action ) => {\n    const newOrder = updateObject( action.orderData, { id: action._id } );\n    return updateObject( state, {\n        loading: false,\n        purchased: true,\n        orders: state.orders.concat( newOrder )\n    } );\n};\n\nconst purchaseProductFail = ( state, action ) => {\n    return updateObject( state, { loading: false } );\n};\n\nconst fetchOrdersStart = ( state, action ) => {\n    return updateObject( state, { loading: true } );\n};\n\nconst fetchOrdersSuccess = ( state, action ) => {\n    return updateObject( state, {\n        orders: action.orders,\n        loading: false\n    } );\n};\n\nconst fetchOrdersFail = ( state, action ) => {\n    return updateObject( state, { loading: false } );\n};\n\nconst reducer = ( state = initialState, action ) => {\n    switch ( action.type ) {\n        case actionTypes.PURCHASE_INIT: return purchaseInit( state, action );\n        case actionTypes.PURCHASE_PRODUCT_START: return purchaseProductStart( state, action );\n        case actionTypes.PURCHASE_PRODUCT_SUCCESS: return purchaseProductSuccess( state, action )\n        case actionTypes.PURCHASE_PRODUCT_FAIL: return purchaseProductFail( state, action );\n        case actionTypes.FETCH_ORDERS_START: return fetchOrdersStart( state, action );\n        case actionTypes.FETCH_ORDERS_SUCCESS: return fetchOrdersSuccess( state, action );\n        case actionTypes.FETCH_ORDERS_FAIL: return fetchOrdersFail( state, action );\n        default: return state;\n    }\n};\n\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../shared/utility';\n\nconst initialState = {\n    token: null,\n    userId: null,\n    error: null,\n    loading: false,\n    isAdmin: false,\n    authRedirectPath: '/'\n};\n\nconst authStart = (state, action) => {\n    return updateObject(state, { error: null, loading: true});\n};\n\nconst authSuccess = (state, action) => {\n    return updateObject(state, {\n        token: action.token,\n        userId: action.userId,\n        error: null,\n        loading: false,\n    });\n};\n\nconst adminSuccess = (state, action) => {\n    return updateObject(state, {\n        token: action.token,\n        userId: action.userId,\n        isAdmin: true,\n        error: null,\n        loading: false,\n    });\n};\n\nconst authLogout = (state, action) => {\n    return updateObject(state, { token: null, userId: null, isAdmin: false });\n};\n\nconst authFail = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        loading: false\n    });\n};\n\nconst setAuthRedirectPath = (state, action) => {\n    return updateObject(state, {authRedirectPath: action.path})\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.AUTH_START: return authStart(state, action);\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\n        case actionTypes.ADMIN_SUCCESS: return adminSuccess(state, action);\n        case actionTypes.AUTH_FAIL: return authFail(state, action);\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\n        case actionTypes.SET_SIGNUP_REDIRECT_PATH: return setAuthRedirectPath(state, action);\n        default:\n            return state;           \n    }\n};\n\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../shared/utility';\n\nconst initialState = {\n    token: null,\n    userId: null,\n    error: null,\n    loading: false,\n    authRedirectPath: '/'\n};\n\nconst signupStart = (state, action) => {\n    return updateObject(state, { error: null, loading: true});\n};\n\nconst signupSuccess = (state, action) => {\n    return updateObject(state, {\n        token: action.token,\n        userId: action.userId,\n        error: null,\n        loading: false,\n    });\n};\n\nconst authLogout = (state, action) => {\n    return updateObject(state, { token: null, userId: null });\n};\n\nconst signupFail = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        loading: false\n    });\n};\n\nconst setSignupRedirectPath = (state, action) => {\n    return updateObject(state, {authRedirectPath: action.path})\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.SIGNUP_START: return signupStart(state, action);\n        case actionTypes.SIGNUP_SUCCESS: return signupSuccess(state, action);\n        case actionTypes.SIGNUP_FAIL: return signupFail(state, action);\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\n        case actionTypes.SET_SIGNUP_REDIRECT_PATH: return setSignupRedirectPath(state, action);\n        default:\n            return state;           \n    }\n};\n\nexport default reducer;","import { put, call, delay } from 'redux-saga/effects';\nimport axios from 'axios';\n\nimport * as actions from '../actions/index';\n\nconst api = axios.create({\n    baseURL: '/'\n});\n\nconst delayAsync = ms => new Promise(res => setTimeout(res, ms));\n\nexport function* logoutSaga(action) {\n    yield call(delayAsync, 1000);\n    yield call([localStorage, 'removeItem'], \"token\");\n    yield call([localStorage, 'removeItem'], \"expirationDate\");\n    yield call([localStorage, 'removeItem'], \"userId\");\n    yield put(actions.logoutSucceed());\n}\n\nexport function* checkAuthTimeoutSaga (action){\n    yield delay(new Date().getTime() * 10000);\n    yield put(actions.logout());\n}\n\nexport function* registerUserSaga(action) {\n    yield put(actions.signupStart());\n        const authData = {\n            username: action.username,\n            email: action.email,\n            password: action.password,\n        };\n        \n        let url = '/users/signup';\n        \n        try{\n            const response = api.post(url, authData); \n                // yield put(actions.checkAuthTimeout(expirationDate - new Date().getTime()));\n                yield put(actions.signupSuccess(response.data._id, response.data.email));\n        } catch(error) {\n            console.log('not possible to auth: ' + error);\n            yield put(actions.signupFail('error to signup!'));\n        }\n}\n\nexport function* loginUserSaga(action) {\n    yield put(actions.authStart());\n\n        const loginData = {\n            email: action.email,\n            password: action.password\n        };\n        \n        let url = '/users/login';\n        \n        try{\n            const response = api.post(url, loginData);\n\n            if(response.email !== 'admin@admin.com') {\n                yield put(actions.authSuccess(response._id, response.email));\n            } else if (response.email === 'admin@admin.com') {\n                yield put(actions.adminSuccess(response._id, response.email));\n            } else {\n                yield put(actions.authFail('no email was found!'));\n            }\n        } catch(error) {\n                console.log('not possible to login: ' + error);\n                yield put(actions.authFail('not possible to login!'));\n            }                    \n}\n\nexport function* authCheckStateSaga(action) {\n    const token = yield localStorage.getItem('token');\n        if(!token) {\n            yield put(actions.logout());\n        } \n        else {\n            // const expirationDate = yield new Date(localStorage.getItem('expirationDate'));\n            //     if(expirationDate <= new Date()) { yield put(actions.logout());}\n            const userId = yield localStorage.getItem('userId');\n                if(userId !== 'admin@admin.com') {\n                    yield put(actions.authSuccess(token, userId));\n                }\n                if(userId === 'admin@admin.com') {\n                    yield put(actions.adminSuccess(token, userId));\n                }\n                // yield put(actions.checkAuthTimeout((expirationDate.getTime() - new Date().getTime())/1000));\n            }\n}\n\n// export function* getAllSaga(action) {\n//     try {\n//         api.get(USERURL).then(handleResponse).then(response => response)\n//     } catch(err) {\n//         console.log('getAllSaga fail: ' + err);\n        \n//     }\n// }\n\n// const handleResponse = response => {\n//     console.log(response);\n//     return response.text()\n//         .then(text => {\n//             const data = text && JSON.parse(text);\n//             if (!response.ok) {\n//                 if (response.status === 401) {\n//                     // auto logout if 401 response returned from api\n//                     logoutSaga();\n//                     window.location.reload(true);\n//                 }\n    \n//                 const error = (data && data.message) || response.statusText;\n//                 return Promise.reject(error);\n//             }\n    \n//             return data;\n//         });\n// }\n// export function* getUserSaga(action) {\n//     yield put(actions.getUser());\n//         const id =  yield localStorage.getItem('token');\n//         let url = `/user/${id}`;\n\n//         try{\n//         const response = yield api.get(url);\n//         console.log(response);\n        \n//         } catch(error) {\n//                 console.log(error);\n//             }        \n// }\n\n// export function* getAdminSaga(action) {\n//     yield put(actions.adminCheckState());\n//         const id = action.id;\n//         const authData = {\n//             username: action.username\n//         };\n//         let url = '/user/';\n\n//         try{\n//         const response = yield api.get(url + id, authData);\n//             console.log(response);\n            \n//         } catch(error) {\n//                 console.log(error);\n//             }        \n// }","import { put } from 'redux-saga/effects';\nimport axios from 'axios';\n\nimport * as actions from '../actions/index';\n\nconst api = axios.create({\n    baseURL: '/',\n});\n\nexport function* initProductsSaga(action) {\n    try{\n        const response = yield api.get( '/api' );\n        yield put(actions.setProducts(response.data));\n    } catch(error) {\n        yield put(actions.fetchProductsFailed());\n    }\n}\n\nexport function* productDetailSaga(action) {\n    try{\n        const response = yield api.get( `/api/${action.productId}` );\n        yield put(actions.openDetail(response.data));\n    } catch(error) {\n        yield put(actions.fetchProductsFailed());\n    }\n}","import { put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport * as actions from '../actions/index';\n\nconst api = axios.create({\n    baseURL: '/orders'\n});\n\nexport function* purchaseProductSaga(action) {\n    yield put( actions.purchaseProductStart() );\n    console.log(action);\n\n    try{\n        const response = yield api.post( '/', action.orderData )\n        //console.log( response.data );\n        yield put( actions.purchaseProductSuccess( response.data.name, action.orderData ) );\n        } catch(error)  {\n                yield put( actions.purchaseProductFail( error ) );\n        } \n}\n\nexport function* fetchOrdersSaga(action) {\n    yield put(actions.fetchOrdersStart());\n        const queryParams = '?auth=' + action.token + '&orderBy=\"userId\"&equalTo=\"' + action.userId + '\"';\n        try{\n            const response = yield api.get( '/orders.json' + queryParams );\n            const fetchedOrders = [];\n                for ( let key in response.data ) {\n                    fetchedOrders.push( {\n                        ...response.data[key],\n                        id: key\n                    } );\n                }\n                yield put(actions.fetchOrdersSuccess(fetchedOrders));    \n        } catch(error) {\n            yield put(actions.fetchOrdersFail(error));\n          }\n    } ","import { takeEvery, all, takeLatest } from 'redux-saga/effects';\n\nimport * as actionType from '../actions/actionTypes';\nimport { logoutSaga, checkAuthTimeoutSaga, authCheckStateSaga, loginUserSaga, registerUserSaga } from './auth';\nimport { initProductsSaga, productDetailSaga } from './product';\nimport { purchaseProductSaga, fetchOrdersSaga } from './order';\n\nexport function* watchAuth() {\n    yield all([\n        takeEvery(actionType.AUTH_INITIATE_LOGOUT, logoutSaga),\n        takeEvery(actionType.AUTH_CHECK_TIMEOUT, checkAuthTimeoutSaga),\n        takeEvery(actionType.AUTH_USER, loginUserSaga),\n        takeEvery(actionType.SIGNUP_USER, registerUserSaga),\n        takeEvery(actionType.AUTH_CHECK_STATE, authCheckStateSaga)  \n    ]);\n}\n\nexport function* watchProduct() {\n    yield all([\n        takeEvery(actionType.INIT_PRODUCTS, initProductsSaga),\n        takeEvery(actionType.OPEN_DETAIL, productDetailSaga),\n    ])\n}\n\nexport function* watchOrder() {\n    yield takeLatest(actionType.PURCHASE_PRODUCT, purchaseProductSaga);\n    yield takeEvery(actionType.FETCH_ORDERS, fetchOrdersSaga);\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport registerServiceWorker from './registerServiceWorker';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport createSagaMiddleware from 'redux-saga';\n\nimport './index.css';\nimport App from './App';\nimport productReducer from './store/reducers/product';\nimport orderReducer from './store/reducers/order';\nimport authReducer from './store/reducers/auth';\nimport signupReducer from './store/reducers/signup';\n\nimport {watchAuth, watchProduct, watchOrder } from './store/sagas';\n\nconst composeEnhancers = process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null || compose;\n\nconst rootReducer = combineReducers({\n    product: productReducer,\n    order: orderReducer,\n    auth: authReducer,\n    signup: signupReducer,\n});\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(rootReducer, composeEnhancers(\n    applyMiddleware(thunk, sagaMiddleware)\n));\n\nsagaMiddleware.run(watchAuth);\nsagaMiddleware.run(watchProduct);\nsagaMiddleware.run(watchOrder);\n\nconst app = (\n  <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n);\n\nReactDOM.render(\n  app,\n  document.getElementById('root')\n);\nregisterServiceWorker();"],"sourceRoot":""}