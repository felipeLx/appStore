(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{101:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(102),r=a.n(i);t.a=function(e){return l.a.createElement("button",{disabled:e.disabled,className:[r.a.Button,r.a[e.btnType]].join(" "),onClick:e.clicked},e.children)}},102:function(e,t,a){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},103:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(104),r=a.n(i);t.a=function(){return l.a.createElement("div",{className:r.a.Loader},"Loading...")}},104:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},111:function(e,t,a){"use strict";a.r(t);var n=a(7),l=a.n(n),i=a(34),r=a(28),u=a(18),c=a(0),o=a.n(c),s=a(11),d=a(22),m=a(21),p=a(95),g=a(101),v=a(103),f=a(10),h=a(8),b=o.a.memo((function(e){var t=Object(c.useState)({username:{elementType:"input",elementConfig:{type:"text",placeholder:"Username"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"E-mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),a=Object(u.a)(t,2),n=a[0],m=a[1],f=e.buildingProduct,b=e.authRedirectPath,E=e.onSetSignupRedirectPath;Object(c.useEffect)((function(){f||"/"===b||E()}),[f,b,E]);var _=function(){var t=Object(i.a)(l.a.mark((function t(a){var i,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.onAuth(n.username.value,n.email.value,n.password.value);case 3:(i=t.sent)?(r=(new Date).getTime(),localStorage.setItem("token",i._id),localStorage.setItem("expirationDate",r),localStorage.setItem("userId",i.email)):console.log("no fetch data");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=[];for(var I in n)y.push({id:I,config:n[I]});var j=y.map((function(e){return o.a.createElement(p.a,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=Object(h.b)(n,Object(r.a)({},t,Object(h.b)(n[t],{value:e.target.value,valid:Object(h.a)(e.target.value,n[t].validation),touched:!0})));"admin"===n.username.value?(window.alert("Username not allowed"),m({username:{value:""}})):m(a)}(t,e.id)}})}));e.loading&&(j=o.a.createElement(v.a,null));var w=null;e.error&&(w=o.a.createElement("p",null,e.error.message));var N=null;return e.isAuthenticated&&(N=o.a.createElement(s.a,{to:"/"})),o.a.createElement("div",{className:"container"},N,w,o.a.createElement("div",{style:{marginTop:"4rem",paddingTop:"70px"},className:"row"},o.a.createElement("div",{className:"col s8 offset-s2"},o.a.createElement(d.b,{to:"/",className:"btn-flat waves-effect"},o.a.createElement("i",{className:"material-icons left"}," ")," Home"),o.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},o.a.createElement("h4",null,o.a.createElement("b",null,"Registrar")),o.a.createElement("p",{className:"grey-text text-darken-1"},"J\xe1 tem uma conta? ",o.a.createElement(d.b,{to:"/user/login"},"Login"))),o.a.createElement("form",{action:"POST",onSubmit:_},j,o.a.createElement(g.a,{type:"submit",btnType:"Success"},"ENVIAR")))))}));t.default=Object(m.b)((function(e){return{loading:e.signup.loading,error:e.signup.error,isAuthenticated:null!==e.signup.token,buildingProduct:e.productBuilder.building,authRedirectPath:e.signup.signupRedirectPath}}),(function(e){return{onAuth:function(t,a,n){return e(f.r(t,a,n))},onSetSignupRedirectPath:function(){return e(f.q("/"))}}}))(b)},95:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(96),r=a.n(i);t.a=function(e){var t=null,a=[r.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(r.a.Invalid),e.elementType){case"input":t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=l.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=l.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return l.a.createElement("div",{className:r.a.Input},l.a.createElement("label",{className:r.a.Label},e.label),t)}},96:function(e,t,a){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}}}]);
//# sourceMappingURL=5.e8163069.chunk.js.map