(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{101:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(102),c=a.n(i);t.a=function(e){return l.a.createElement("button",{disabled:e.disabled,className:[c.a.Button,c.a[e.btnType]].join(" "),onClick:e.clicked},e.children)}},102:function(e,t,a){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},103:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(104),c=a.n(i);t.a=function(){return l.a.createElement("div",{className:c.a.Loader},"Loading...")}},104:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},112:function(e,t,a){"use strict";a.r(t);var n=a(7),l=a.n(n),i=a(34),c=a(28),r=a(18),o=a(0),u=a.n(o),s=a(11),d=a(22),m=a(21),p=a(95),g=a(101),v=a(103),f=a(8),h=a(10),b=u.a.memo((function(e){var t=Object(o.useState)({email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),a=Object(r.a)(t,2),n=a[0],m=a[1],h=e.buildingProduct,b=e.authRedirectPath,E=e.onSetSignupRedirectPath;Object(o.useEffect)((function(){h||"/"===b||E()}),[h,b,E]);var _=function(){var t=Object(i.a)(l.a.mark((function t(a){var i,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.onLogin(n.email.value,n.password.value);case 4:i=t.sent,console.log(i),i?(c=(new Date).getTime(),localStorage.setItem("token",i._id),localStorage.setItem("expirationDate",c),localStorage.setItem("userId",i.email)):console.log("no fetch data"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),j=[];for(var y in n)j.push({id:y,config:n[y]});var I=j.map((function(e){return u.a.createElement(p.a,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=Object(f.b)(n,Object(c.a)({},t,Object(f.b)(n[t],{value:e.target.value,valid:Object(f.a)(e.target.value,n[t].validation),touched:!0})));m(a)}(t,e.id)}})}));e.loading&&(I=u.a.createElement(v.a,null));var k=null;e.error&&(k=u.a.createElement("p",null,e.error.message));var N=null;return(e.isAuthenticated||e.isAdmin)&&(N=u.a.createElement(s.a,{to:"/"})),u.a.createElement("div",{className:"container"},N,k,u.a.createElement("div",{style:{marginTop:"4rem",paddingTop:"70px"},className:"row"},u.a.createElement("div",{className:"col s8 offset-s2"},u.a.createElement(d.b,{to:"/",className:"btn-flat waves-effect"},u.a.createElement("i",{className:"material-icons left"}," ")," Home"),u.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},u.a.createElement("h4",null,u.a.createElement("b",null,"Login")),u.a.createElement("p",{className:"grey-text text-darken-1"},"Ainda n\xe3o tem uma conta? ",u.a.createElement(d.b,{to:"/user/signup"},"Registrar"))),u.a.createElement("form",{action:"POST",onSubmit:_},I,u.a.createElement(g.a,{type:"submit",btnType:"Success"},"ENVIAR")))))}));t.default=Object(m.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token||null!==e.signup.token,isAdmin:e.auth.isAdmin,buildingProduct:e.productBuilder.building,authRedirectPath:e.signup.signupRedirectPath}}),(function(e){return{onLogin:function(t,a){return e(h.j(t,a))},onSetSignupRedirectPath:function(){return e(h.q("/"))}}}))(b)},95:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(96),c=a.n(i);t.a=function(e){var t=null,a=[c.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(c.a.Invalid),e.elementType){case"input":t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=l.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=l.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return l.a.createElement("div",{className:c.a.Input},l.a.createElement("label",{className:c.a.Label},e.label),t)}},96:function(e,t,a){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}}}]);
//# sourceMappingURL=4.5ca15f81.chunk.js.map