(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{100:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(101),r=a.n(i);t.a=function(e){var t=null;switch([r.a.InputElement].push(r.a.Invalid),e.elementType){case"input":t=l.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"text"}));break;case"number":t=l.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"number"}));break;case"textarea":t=l.a.createElement("textarea",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"text"}));break;case"select":t=l.a.createElement("select",{value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=l.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"text"}))}return l.a.createElement("div",{className:r.a.Input},l.a.createElement("label",{className:r.a.Label},e.label),t)}},101:function(e,t,a){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}},105:function(e,t,a){"use strict";var n=a(0),l=a.n(n),i=a(106),r=a.n(i);t.a=function(){return l.a.createElement("div",{className:r.a.Loader},"Loading...")}},106:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},112:function(e,t,a){"use strict";a.r(t);var n=a(8),l=a.n(n),i=a(42),r=a(27),c=a(22),u=a(0),o=a.n(u),s=a(11),m=a(23),d=a(18),p=a(100),g=a(36),v=a(105),f=a(9),h=a(7),b=o.a.memo((function(e){var t=Object(u.useState)({email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),a=Object(c.a)(t,2),n=a[0],d=a[1],h=e.buildingProduct,b=e.authRedirectPath,E=e.onSetSignupRedirectPath;Object(u.useEffect)((function(){h||"/"===b||E()}),[h,b,E]);var y=function(){var t=Object(i.a)(l.a.mark((function t(a){var i,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.onLogin(n.email.value,n.password.value);case 4:i=t.sent,console.log(i),r=(new Date).getTime(),c=r+i.email,localStorage.setItem("token",c),localStorage.setItem("expirationDate",r),localStorage.setItem("userId",i.email),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),I=[];for(var _ in n)I.push({id:_,config:n[_]});var k=I.map((function(e){return o.a.createElement(p.a,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=Object(f.b)(n,Object(r.a)({},t,Object(f.b)(n[t],{value:e.target.value,valid:Object(f.a)(e.target.value,n[t].validation),touched:!0})));d(a)}(t,e.id)}})}));e.loading&&(k=o.a.createElement(v.a,null));var x=null;e.error&&(x=o.a.createElement("p",null,e.error.message));var C=null;return(e.isAuthenticated||e.isAdmin)&&(C=o.a.createElement(s.a,{to:"/"})),o.a.createElement("div",{className:"container"},C,x,o.a.createElement("div",{style:{marginTop:"4rem",paddingTop:"70px"},className:"row"},o.a.createElement("div",{className:"col s8 offset-s2"},o.a.createElement(m.b,{to:"/",className:"btn-flat waves-effect"},o.a.createElement("i",{className:"material-icons left"}," ")," Home"),o.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},o.a.createElement("h4",null,o.a.createElement("b",null,"Login")),o.a.createElement("p",{className:"grey-text text-darken-1"},"Ainda n\xe3o tem uma conta? ",o.a.createElement(m.b,{to:"/user/signup"},"Registrar"))),o.a.createElement("form",{action:"POST",onSubmit:y},k,o.a.createElement(g.a,{type:"submit",btnType:"Success"},"ENVIAR")))))}));t.default=Object(d.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token||null!==e.signup.token,isAdmin:e.auth.isAdmin,buildingProduct:e.product.building,authRedirectPath:e.signup.signupRedirectPath}}),(function(e){return{onLogin:function(t,a){return e(h.l(t,a))},onSetSignupRedirectPath:function(){return e(h.u("/"))}}}))(b)}}]);
//# sourceMappingURL=4.6935f05b.chunk.js.map