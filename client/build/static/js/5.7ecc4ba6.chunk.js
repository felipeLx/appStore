(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{100:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(101),i=a.n(r);t.a=function(e){var t=null;switch([i.a.InputElement].push(i.a.Invalid),e.elementType){case"input":t=l.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"text"}));break;case"number":t=l.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"number"}));break;case"textarea":t=l.a.createElement("textarea",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"text"}));break;case"select":t=l.a.createElement("select",{value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=l.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed,type:"text"}))}return l.a.createElement("div",{className:i.a.Input},l.a.createElement("label",{className:i.a.Label},e.label),t)}},101:function(e,t,a){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}},105:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(106),i=a.n(r);t.a=function(){return l.a.createElement("div",{className:i.a.Loader},"Loading...")}},106:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},111:function(e,t,a){"use strict";a.r(t);var n=a(8),l=a.n(n),r=a(42),i=a(27),u=a(22),c=a(0),o=a.n(c),s=a(11),m=a(23),d=a(18),p=a(100),g=a(36),v=a(105),f=a(7),h=a(9),b=o.a.memo((function(e){var t=Object(c.useState)({username:{elementType:"input",elementConfig:{type:"text",placeholder:"Username"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"E-mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),a=Object(u.a)(t,2),n=a[0],d=a[1],f=e.buildingProduct,b=e.authRedirectPath,E=e.onSetSignupRedirectPath;Object(c.useEffect)((function(){f||"/"===b||E()}),[f,b,E]);var y=function(){var t=Object(r.a)(l.a.mark((function t(a){var r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.onAuth(n.username.value,n.email.value,n.password.value);case 3:(r=t.sent)?(i=(new Date).getTime(),localStorage.setItem("token",r._id),localStorage.setItem("expirationDate",i),localStorage.setItem("userId",r.email)):console.log("no fetch data");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=[];for(var I in n)_.push({id:I,config:n[I]});var w=_.map((function(e){return o.a.createElement(p.a,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=Object(h.b)(n,Object(i.a)({},t,Object(h.b)(n[t],{value:e.target.value,valid:Object(h.a)(e.target.value,n[t].validation),touched:!0})));"admin"===n.username.value?(window.alert("Username not allowed"),d({username:{value:""}})):d(a)}(t,e.id)}})}));e.loading&&(w=o.a.createElement(v.a,null));var x=null;e.error&&(x=o.a.createElement("p",null,e.error.message));var C=null;return e.isAuthenticated&&(C=o.a.createElement(s.a,{to:"/"})),o.a.createElement("div",{className:"container"},C,x,o.a.createElement("div",{style:{marginTop:"4rem",paddingTop:"70px"},className:"row"},o.a.createElement("div",{className:"col s8 offset-s2"},o.a.createElement(m.b,{to:"/",className:"btn-flat waves-effect"},o.a.createElement("i",{className:"material-icons left"}," ")," Home"),o.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},o.a.createElement("h4",null,o.a.createElement("b",null,"Registrar")),o.a.createElement("p",{className:"grey-text text-darken-1"},"J\xe1 tem uma conta? ",o.a.createElement(m.b,{to:"/user/login"},"Login"))),o.a.createElement("form",{action:"POST",onSubmit:y},w,o.a.createElement(g.a,{type:"submit",btnType:"Success"},"ENVIAR")))))}));t.default=Object(d.b)((function(e){return{loading:e.signup.loading,error:e.signup.error,isAuthenticated:null!==e.signup.token,buildingProduct:e.product.building,authRedirectPath:e.signup.signupRedirectPath}}),(function(e){return{onAuth:function(t,a,n){return e(f.v(t,a,n))},onSetSignupRedirectPath:function(){return e(f.u("/"))}}}))(b)}}]);
//# sourceMappingURL=5.7ecc4ba6.chunk.js.map